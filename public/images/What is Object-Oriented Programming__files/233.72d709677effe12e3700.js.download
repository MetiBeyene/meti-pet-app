(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[233],{"+QRC":function(e,t,n){"use strict";var r=n("E9nw"),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,i,a,c,s,l,u=!1;t||(t={}),n=t.debug||!1;try{if(a=r(),c=document.createRange(),s=document.getSelection(),(l=document.createElement("span")).textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=o[t.format]||o.default;window.clipboardData.setData(i,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(l),c.selectNodeContents(l),s.addRange(c),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),i=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(i,e)}}finally{s&&("function"==typeof s.removeRange?s.removeRange(c):s.removeAllRanges()),l&&document.body.removeChild(l),a()}return u}},"0e8D":function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n("vOnD"),o=n("uZsn"),i=Object(r.c)(["color:",";line-height:1.7;outline:none;a{text-decoration:none;color:",";}a:hover{color:",";}h1,h2,h3,h4,h5,h6{font-family:",";font-weight:600;}p{display:block;margin-top:1em;margin-bottom:1em;}"],(function(e){return e.theme.palette.grey.A400}),(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.primary.dark}),o.C),a=Object(r.c)(["table,td,th{border:1px solid ",";font-weight:400;}table{border-collapse:collapse;margin:2em auto;table-layout:fixed;width:100%;}th,td{padding:15px;word-break:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;hyphens:auto;}th{background:",";}"],(function(e){return e.theme.palette.grey[300]}),(function(e){return e.theme.palette.primary.lightP2})),c=(r.d.div.withConfig({displayName:"Markdown",componentId:"sc-1j2yuel-0"})([""]),r.d.div.withConfig({displayName:"Markdown__Viewer",componentId:"sc-1j2yuel-1"})([""," "," font-family:",";font-size:18px;overflow-wrap:break-word;h1,h2,h3,h4,h5,h6{color:",";}strong{font-family:",";}li{margin-bottom:5px;}blockquote{background:",";border-left:5px solid ",";margin:1.5em 0.5em;padding:1px 20px 16px;overflow-x:scroll;}hr{margin:10px 0;}"," ",""],i,a,o.q,(function(e){return e.theme.palette.grey.A700}),o.q,(function(e){return e.theme.palette.grey[100]}),(function(e){return e.theme.palette.primary.lightP1}),(function(e){return e.renderedInTOC&&Object(r.c)(["font-family:",";strong{font-family:",";}a{display:flex;}"],o.C,o.C)}),(function(e){return e.setHeight&&Object(r.c)(["height:100%;"])}))),s=Object(r.d)(c).attrs((function(){return{as:"span"}})).withConfig({displayName:"Markdown__ViewerSpan",componentId:"sc-1j2yuel-2"})(["display:block;",""],(function(e){return e.hide&&Object(r.c)(["display:none;"])})),l=r.d.div.withConfig({displayName:"Markdown__MediumViewer",componentId:"sc-1j2yuel-3"})([""," margin:5px;display:block;h1,h2,h3,h4,h5,h6{color:",";}",""],i,(function(e){return e.theme.palette.grey.A700}),(function(e){return e.hide&&Object(r.c)(["display:none;"])})),u=r.d.span.withConfig({displayName:"Markdown__QuizViewer",componentId:"sc-1j2yuel-4"})([""," "," margin-top:10px;overflow-wrap:break-word;word-wrap:break-word;max-width:60vw;font-family:",";strong{font-family:",";}",""],i,a,o.q,o.q,(function(e){return e.structuredQuizTitle&&Object(r.c)(["color:",";"],(function(e){return e.theme.palette.grey[700]}))})),d=r.d.div.withConfig({displayName:"Markdown__MarkdownContainerDiv",componentId:"sc-1j2yuel-5"})([""," width:100%;"],(function(e){var t=e.height;return t&&Object(r.c)(["height:",";"],t)}))},"3Epe":function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return v}));var r=n("o0o1"),o=n.n(r),i=n("rePB"),a=n("HaE+"),c=n("wSl+"),s=n("E891"),l=n("fNkK"),u=n("MF81");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(e){var t=e.mapName,n="userdata/map/".concat(t);return Object(l.a)({url:"/api/".concat(n),type:"GET"})},h=function(e){var t=e.mapName,n=e.data,r="userdata/map/".concat(t),o={map_key_val:JSON.stringify(n)};return Object(l.a)({url:"/api/".concat(r),type:"POST",contentType:"application/json",processData:!1,data:Object(c.deflate)(JSON.stringify(o),{level:9}),headers:{"Content-Encoding":"deflate"}})},g=function(e,t,n){return function(){var r=Object(a.a)(o.a.mark((function r(a){var c,l,d,g,m;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a(u.f.saveRequest(p({compId:t.compId},n))),c=Object(u.a)(t),l={timestamp:Date.now(),userdata:JSON.stringify(e)},r.next=6,h({mapName:c,data:l});case 6:return r.next=8,f({mapName:c});case 8:d=r.sent,(g=JSON.parse(d)).userdata=Object(s.a)(g.userdata),m=Object(i.a)({},c,g),a(u.f.saveSuccess(m)),r.next=19;break;case 15:r.prev=15,r.t0=r.catch(0),console.error("saveWidgetUserData error",r.t0),a(u.f.saveFailure());case 19:case"end":return r.stop()}}),r,null,[[0,15]])})));return function(e){return r.apply(this,arguments)}}()},m=function(e){return Object(l.a)({url:"/api/userdata/maps/get_values",type:"POST",data:{maps_keys_json:JSON.stringify({maps:e})}})},b=function(e){return function(){var t=Object(a.a)(o.a.mark((function t(n){var r,i,a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n(u.f.pending()),e.compIds&&e.compIds.length&&e.userId&&e.authorId&&e.pageId){t.next=5;break}return n(u.f.rejected()),t.abrupt("return");case 5:return r=e.compIds.map((function(t){return{map_name:Object(u.a)(p(p({},e),{},{compId:t})),map_keys:null}})),t.next=8,m(r);case 8:i=t.sent,a=JSON.parse(i),c=Object.keys(a).reduce((function(e,t){var n=a[t];return n&&(n.userdata=Object(s.a)(n.userdata)),e[t]=n,e}),{}),n(u.f.fulfilled(c)),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.error("loadAllWidgetsUserData error",t.t0),n(u.f.rejected());case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return Object(l.a)({url:"/api/userdata/map/work_id/".concat(e),type:"GET"})}},E9nw:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},IzWC:function(e,t,n){"use strict";var r=n("kOwS"),o=n("hi2O"),i=n("c7wz"),a=n("TSYQ"),c=n.n(a),s=n("q1tI"),l=n.n(s),u=n("17x9"),d=n.n(u),p=n("BGzO"),f=n.n(p),h=(n("6DQo"),n("KTbD")),g=n("uwnE"),m={$bs_formGroup:d.a.object},b=function(e){function t(){return e.apply(this,arguments)||this}Object(i.a)(t,e);var n=t.prototype;return n.getGlyph=function(e){switch(e){case"success":return"ok";case"warning":return"warning-sign";case"error":return"remove";default:return null}},n.renderDefaultFeedback=function(e,t,n,o){var i=this.getGlyph(e&&e.validationState);return i?l.a.createElement(h.a,Object(r.a)({},o,{glyph:i,className:c()(t,n)})):null},n.render=function(){var e=this.props,t=e.className,n=e.children,i=Object(o.a)(e,["className","children"]),a=Object(g.f)(i),s=a[0],u=a[1],d=Object(g.d)(s);if(!n)return this.renderDefaultFeedback(this.context.$bs_formGroup,t,d,u);var p=l.a.Children.only(n);return l.a.cloneElement(p,Object(r.a)({},u,{className:c()(p.props.className,t,d)}))},t}(l.a.Component);b.defaultProps={bsRole:"feedback"},b.contextTypes=m;var v=Object(g.a)("form-control-feedback",b),y={componentClass:f.a},O=function(e){function t(){return e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.render=function(){var e=this.props,t=e.componentClass,n=e.className,i=Object(o.a)(e,["componentClass","className"]),a=Object(g.f)(i),s=a[0],u=a[1],d=Object(g.d)(s);return l.a.createElement(t,Object(r.a)({},u,{className:c()(n,d)}))},t}(l.a.Component);O.propTypes=y,O.defaultProps={componentClass:"p"};var j=Object(g.a)("form-control-static",O),w=n("ga9N"),C={componentClass:f.a,type:d.a.string,id:d.a.string,inputRef:d.a.func},x={$bs_formGroup:d.a.object},_=function(e){function t(){return e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.render=function(){var e,t=this.context.$bs_formGroup,n=t&&t.controlId,i=this.props,a=i.componentClass,s=i.type,u=i.id,d=void 0===u?n:u,p=i.inputRef,f=i.className,h=i.bsSize,m=Object(o.a)(i,["componentClass","type","id","inputRef","className","bsSize"]),b=Object(g.f)(m),v=b[0],y=b[1];if("file"!==s&&(e=Object(g.d)(v)),h){var O=w.b[h]||h;e[Object(g.e)({bsClass:"input"},O)]=!0}return l.a.createElement(a,Object(r.a)({},y,{type:s,id:d,ref:p,className:c()(f,e)}))},t}(l.a.Component);_.propTypes=C,_.defaultProps={componentClass:"input"},_.contextTypes=x,_.Feedback=v,_.Static=j;t.a=Object(g.a)("form-control",Object(g.b)([w.c.SMALL,w.c.LARGE],_))},KTbD:function(e,t,n){"use strict";var r=n("kOwS"),o=n("hi2O"),i=n("c7wz"),a=n("TSYQ"),c=n.n(a),s=n("q1tI"),l=n.n(s),u=n("17x9"),d=n.n(u),p=n("uwnE"),f={glyph:d.a.string.isRequired},h=function(e){function t(){return e.apply(this,arguments)||this}return Object(i.a)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.glyph,i=t.className,a=Object(o.a)(t,["glyph","className"]),s=Object(p.f)(a),u=s[0],d=s[1],f=Object(r.a)({},Object(p.d)(u),((e={})[Object(p.e)(u,n)]=!0,e));return l.a.createElement("span",Object(r.a)({},d,{className:c()(i,f)}))},t}(l.a.Component);h.propTypes=f,t.a=Object(p.a)("glyphicon",h)},MCbV:function(e,t,n){"use strict";var r=n("rePB"),o=n("Ff2n"),i=n("5R4e");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){return function(t){return function(n){if(!function(e){return!!e&&!!e.error}(n))return t(n);var r=n.error,a=n.errorHook,s=n.errorWhitelist,l=Object(o.a)(n,["error","errorHook","errorWhitelist"]);if(Object(i.a)(n.error,e.dispatch,null,s),a){var u=e.dispatch,d=a(c(c({},l),{},{error:r,dispatch:u}));return d&&t(d),null}return t(n)}}}},NC75:function(e,t,n){"use strict";var r=n("o0o1"),o=n.n(r),i=n("HaE+"),a=n("KQm4"),c=n("ODXe"),s=n("1OyB"),l=n("vuIU"),u=n("JX7q"),d=n("Ji7U"),p=n("md7G"),f=n("foSv"),h=n("rePB"),g=n("q1tI"),m=n.n(g),b=n("gjeX"),v=n.n(b),y=n("sBL/"),O=n.n(y),j=n("nOHt"),w=n("+Zpp"),C=n("kzvQ"),x=n("BMKr"),_=n("CjAr"),S=n("i7Pf"),E=n("ukoL"),I=n("PS9J"),k=n("wx14"),N=n("ihVS"),P=n("t99M"),R=n("Rzx/"),D=n("Fn3X"),T=n("1raM"),A=n("RFJL"),H=n("47Jv"),M=n("diBh"),B=n("3zPy"),z=n.n(B),L=n("SWXX"),F=n("hVso"),U=n("jxKE"),V=m.a.createElement;function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var X=function(e){Object(d.a)(n,e);var t=W(n);function n(e){var r;Object(s.a)(this,n),r=t.call(this,e),Object(h.a)(Object(u.a)(r),"noteInput",m.a.createRef()),Object(h.a)(Object(u.a)(r),"container",m.a.createRef()),Object(h.a)(Object(u.a)(r),"reposition",(function(){if(r.props.childRef.current){var e=r.props.childRef.current.getBoundingClientRect(),t=e.width,n=e.top,o=e.height,i=r.props.menuData.coords.bottom,a=!1;(n-64<0||r.props.menuData.touch)&&(i=i-o-30,a=!0),r.setState({left:r.props.menuData.coords.left&&Math.max(0,r.props.menuData.coords.left-t/2),right:r.props.menuData.coords.right&&Math.max(0,r.props.menuData.coords.right-t/2),bottom:i,revButtons:a})}})),Object(h.a)(Object(u.a)(r),"handleClose",(function(){r.props.removeSelection?r.props.onHighlightRemove(r.props.menuData.selection):r.props.closeMenu()})),Object(h.a)(Object(u.a)(r),"handleHighlightCreate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r.props.onHighlightCreate(r.props.menuData.range,e,t)})),Object(h.a)(Object(u.a)(r),"handleHighlightEdit",(function(e){r.props.onHighlightEdit(r.props.menuData.range,e)})),Object(h.a)(Object(u.a)(r),"onNoteChange",(function(e){var t=e.target.value,n=t.substr(0,256);r.getSymbolsLen(t)>=256&&(n=n.substr(0,256-2*(n.split(/\r*\n/).length-1)));var o=r.getSymbolsLen(t);(o<=r.getSymbolsLen(r.state.noteValue)||o<=256)&&r.setState({noteValue:n})})),Object(h.a)(Object(u.a)(r),"handleComment",(function(){var e,t=null===(e=r.state.noteValue)||void 0===e?void 0:e.trim();"edit"===r.state.showNote?r.handleHighlightEdit(t):"note"===r.state.showNote&&r.handleHighlightCreate(t)})),Object(h.a)(Object(u.a)(r),"handleNoteFormOpen",(function(e){r.setState({showNote:e},(function(){var e;null===(e=r.noteInput.current)||void 0===e||e.focus()}))})),Object(h.a)(Object(u.a)(r),"handleRemove",(function(){return r.props.onHighlightRemove(r.props.menuData.range)})),Object(h.a)(Object(u.a)(r),"handleBtnClick",(function(e){switch(e){case"highlight":r.handleHighlightCreate();break;case"reassign":r.handleHighlightCreate(null,r.props.commentToReassign);break;case"note":case"edit":r.handleNoteFormOpen(e);break;case"remove":r.handleRemove();break;default:return null}return null})),Object(h.a)(Object(u.a)(r),"handleKeyPress",(function(e){e.keyCode!==z.a.codes.enter||e.shiftKey?e.keyCode===z.a.codes.esc&&r.handleClose():(e.preventDefault(),r.handleComment())})),Object(h.a)(Object(u.a)(r),"getSymbolsLen",(function(e){var t=2*(e.split(/\r*\n/).length-1);return e.length+t})),Object(h.a)(Object(u.a)(r),"noteSymbolsLeft",(function(){return 256-r.getSymbolsLen(r.state.noteValue)}));var o=e.menuData.range.dataset?e.selections[e.spanToMdChild[e.menuData.range.dataset.id]].filter((function(t){return t.id===e.menuData.range.dataset.id}))[0].comment:null;return r.state={showNote:!1,noteValue:o||"",left:e.menuData.coords.left,right:e.menuData.coords.right,bottom:e.menuData.coords.bottom,edit:e.menuData.edit},r.createButtons=[{title:"Highlight",payload:"highlight",icon:V(N.a,{size:20}),id:U.C?"selenium-highlight":null},{title:"Add a note",payload:"note",icon:V(P.a,{size:20}),id:U.C?"selenium-note":null},{title:"Reassign here",payload:"reassign",icon:V(R.a,{size:20})}],r.editButtons=[{title:function(e){return e?"Edit note":"Add note"},payload:"edit",icon:V(D.a,{size:20}),id:U.C?"selenium-note-edit":null},{title:function(e){return e?"Remove note":"Remove highlight"},payload:"remove",icon:V(T.a,{size:20}),danger:!0,id:U.C?"selenium-remove":null}],!e.menuData.edit&&e.commentToReassign||r.createButtons.pop(),r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.reposition()}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(t.showNote!==this.state.showNote&&this.state.showNote){if(!this.container.current)return;var r=this.container.current.getBoundingClientRect(),o=r.height,i=r.width;this.setState({bottom:this.props.menuData.coords.bottom-(o-65),left:this.props.menuData.coords.left&&Math.max(0,this.props.menuData.coords.left-50),right:this.props.menuData.coords.right&&Math.max(0,this.props.menuData.coords.right-(i-50))})}if(!M.a(e.menuData,this.props.menuData)){var a=this.props.menuData.range.dataset?this.props.selections[this.props.spanToMdChild[this.props.menuData.range.dataset.id]].filter((function(e){return e.id===n.props.menuData.range.dataset.id}))[0].comment:null;this.setState({showNote:!1,noteValue:a||"",edit:this.props.menuData.edit,bottom:this.props.menuData.coords.bottom},(function(){return n.reposition()}))}}},{key:"render",value:function(){var e=this,t=this.state,n=t.showNote,r=t.noteValue,o=t.left,i=t.right,a=t.bottom,c=t.edit,s=t.revButtons,l=this.props.menuData.isInsideConcept,u=c?this.editButtons:this.createButtons,d=[r&&V(L.h,{key:"0"},V("p",{className:"font-normal"},r)),V(L.f,{key:"1"},u.map((function(t,n){var o="string"===typeof t.title?t.title:t.title(r);return V(A.a,{key:n.toString(),trigger:["hover"],placement:"top",overlay:V(H.a,{id:o},o)},V(L.g,{onClick:function(n){return e.handleBtnClick(t.payload,n)},id:t.id,danger:t.danger},t.icon))})))];return V(L.i,{ref:function(t){e.container.current=t,"function"===typeof e.props.childRef?e.props.childRef(t):e.props.childRef&&(e.props.childRef.current=t)},style:{left:o,right:i,bottom:a}},l?V(L.e,null,V("p",{className:"text-base p-2"},"Cannot create highlight/note inside a concept")):V(m.a.Fragment,null,n?V(L.a,null,V(L.c,null,V("p",{className:"font-normal"},this.noteSymbolsLeft())),V("span",{className:"font-normal"},V(L.d,{ref:this.noteInput,placeholder:"Add a note here...",onChange:this.onNoteChange,onKeyDown:this.handleKeyPress,value:r})),V("div",{className:"flex justify-center"},V(F.a,{size:"small",onClick:this.handleClose},"CANCEL"),V(F.a,{size:"small",variant:"contained",color:"primary",onClick:this.handleComment},"DONE"))):V(L.e,null,s?[].concat(d).reverse():d)))}}]),n}(m.a.Component);Object(h.a)(X,"defaultProps",{commentToReassign:{}});var J=m.a.forwardRef((function(e,t){return V(X,Object(k.a)({},e,{childRef:t}))})),q=n("VeD8"),G=n("pQ8y"),K=n("+QRC"),Q=n.n(K),Y=n("ulad"),$=n("+zGO"),Z=n("uoqg"),ee=n("XDgg"),te=n("h4VS"),ne=n("vOnD"),re=n("Dsxo");function oe(){var e=Object(te.a)(["\n    div.dangling-selection-container {\n      width: 100%;\n      max-height: 400px;\n      height: auto;\n      overflow: auto;\n      border: 1px solid ",";\n      padding: 10px;\n      border-radius: ",";\n      div.buttons_panel {\n        display: flex;\n        button.menu_button {\n          display: inline-block;\n          width: 40px;\n\n          outline: none;\n          border: none;\n          background: ",";\n          box-shadow: ",";\n          padding: 0;\n          justify-content: center;\n          svg {\n            width: 18px;\n            height: auto;\n            fill: ",";\n          }\n        }\n\n        button.menu_button_container {\n          width: 100%;\n          height: 100%;\n          outline: none;\n          border: none;\n          background-color: transparent;\n          padding: 5;\n          justify-content: center;\n          svg {\n            width: 18px;\n            height: auto;\n            fill: ",";\n          }\n        }\n      }\n      div.notes_container {\n        margin-bottom: 10px;\n        margin-top: 20px;\n        div.note {\n          position: relative;\n          border: 1px solid ",";\n          border-left: 5px solid ",";\n          border-radius: ",";\n          align-content: center;\n          background: ",";\n          justify-content: space-between;\n          display: flex;\n          flex-wrap: wrap;\n          padding: 8px;\n\n          .dangling_title {\n            margin: 0;\n            word-wrap: break-word;\n            width: 85%;\n\n            @media screen and (max-width: 1240px) {\n              margin-bottom: 4px;\n            }\n          }\n\n          div.popover {\n            left: auto !important;\n            right: 0 !important;\n            margin: 0 !important;\n            background: ",";\n            .arrow {\n              display: none !important;\n            }\n          }\n        }\n      }\n    }\n  "]);return oe=function(){return e},e}var ie={Container:Object(ne.b)(oe(),(function(e){return e.theme.palette.grey[300]}),re.l,(function(e){return e.theme.palette.common.white}),(function(e){return e.theme.palette.grey[200]}),(function(e){return e.theme.palette.grey[600]}),(function(e){return e.theme.palette.grey[600]}),(function(e){return e.theme.palette.grey[300]}),(function(e){return e.theme.palette.primary.lightP2}),re.k,(function(e){return e.theme.palette.common.white}),(function(e){return e.theme.palette.common.white})),IconWrapper:ne.d.i.withConfig({displayName:"styles__IconWrapper",componentId:"sc-1ukqpu1-0"})(["display:inline-flex;justify-content:center;align-items:center;width:35px;border-radius:",";transition:0.2s;cursor:pointer;"],re.c)},ae=m.a.createElement;function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var ue=function(e){Object(d.a)(n,e);var t=le(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),Object(h.a)(Object(u.a)(e),"state",{showNotes:!1,copied:!1}),Object(h.a)(Object(u.a)(e),"buttons",[{title:"Copy to clipboard",payload:"copy",icon:"Copy"},{title:"Reassign",payload:"reassign",icon:"MessageCircle"},{title:"Remove",payload:"remove",icon:"Trash2"}]),Object(h.a)(Object(u.a)(e),"showNotes",(function(){e.state.showNotes||Object(w.c)(w.b.INTERACTION,w.a.INTERACTION_MD_MOVED_NOTES_SHOW,"MovedNotesShown"),e.setState({showNotes:!e.state.showNotes})})),Object(h.a)(Object(u.a)(e),"copyText",(function(e){Q()(e),Object(w.c)(w.b.INTERACTION,w.a.INTERACTION_MD_MOVED_NOTE_COPY,"MovedNoteCopied")})),Object(h.a)(Object(u.a)(e),"triggerPopover",(function(t,n,r){t(),e.setState({copied:{text:n,index:r}},(function(){setTimeout((function(){e.setState({copied:null})}),1e3)}))})),Object(h.a)(Object(u.a)(e),"handleRemove",(function(t){e.props.onHighlightRemove(t,!0)})),Object(h.a)(Object(u.a)(e),"overlayTrigger",void 0),Object(h.a)(Object(u.a)(e),"handleHide",(function(){e.overlayTrigger.handleHide()})),Object(h.a)(Object(u.a)(e),"onRemove",(function(){e.props.onRemoveAll()})),Object(h.a)(Object(u.a)(e),"handleBtnClick",(function(t,n,r){switch(t){case"copy":e.triggerPopover((function(){return e.copyText(r.comment)}),"Copied!",r.id);break;case"reassign":e.triggerPopover((function(){return e.props.onSaveCommenToReassign(se(se({},r),{},{currentP_id:n}))}),"Select text to reassign",r.id);break;case"remove":e.handleRemove({currentP_id:n,highlight_id:r.id});break;default:return null}return null})),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.danglingSelections,n=this.state,r=n.showNotes,o=n.copied;return ae(m.a.Fragment,null,ae(ie.Container,null),ae("div",{className:"dangling-selection-container"},ae(F.a,{variant:"text",color:"default",size:"small",mx:"auto",my:0,onClick:this.showNotes},"".concat(r?"Hide":"Show"," moved notes")),ae(q.a,null,r&&ae(G.a,{classNames:"runnable",timeout:500},ae("div",{className:"notes_container"},ae("div",null,ae(Z.a,{popoverTitle:"Permanently delete this Note?",handleConfirm:this.onRemove,hideOnConfirm:!0,danger:!0},ae(F.a,{color:"danger",variant:"contained",size:"small",ml:"auto"},"Remove all")),Object.keys(t).map((function(n){return t[n].map((function(t){return ae("div",{className:"note",key:t.id},!!o&&o.index===t.id&&ae(Y.a,{id:"dang_notes-popover".concat(t.id),placement:"top"},ae("p",{className:"font-normal"},o.text)),ae("p",{className:"dangling_title"},t.comment),ae("div",{className:"buttons_panel"},e.buttons.map((function(r,o){return ae(A.a,{key:o,trigger:["hover"],placement:"top",overlay:ae(H.a,{id:r.title},r.title)},"Remove"===r.title?ae(ie.IconWrapper,{title:"Delete lesson"},ae(ee.a,{zoomOnHover:!0,danger:!0,onClick:function(){return e.handleBtnClick(r.payload,n,t)},icon:r.icon,color:e.props.theme.palette.common.black,size:16})):ae(ie.IconWrapper,{title:"Delete lesson"},ae(ee.a,{zoomOnHover:!0,hoverColor:e.props.theme.palette.primary.main,onClick:function(){return e.handleBtnClick(r.payload,n,t)},icon:r.icon,color:e.props.theme.palette.common.black,size:16})))}))))}))}))))))))}}]),n}(m.a.Component),de=Object($.a)(ue),pe=n("1Ua+"),fe=n("0e8D");function he(){var e=Object(te.a)(["\n  span.markdown_viewer_highlighted_content {\n    ","\n  }\n  span.markdown_viewer_highlighted_content_with_comment {\n    ","\n    background-color: ",";\n    }\n  span.anchor-link {\n    color: ",";\n    font-weight: normal;\n    transition: 0.2s;\n    :hover {\n      color: ",";\n    }\n  }\n  :target::before {\n    content: '';\n    display: block;\n    height: 64px;\n    margin: -64px 0 0;\n  }\n"]);return he=function(){return e},e}var ge=Object(ne.c)(["position:relative;background-color:",";user-select:none;cursor:pointer;"],(function(e){return e.theme.palette.utils.mdHighlight})),me=Object(ne.b)(he(),ge,ge,(function(e){return e.theme.palette.accent3.lightP1}),(function(e){return e.theme.palette.grey[100]}),(function(e){return e.theme.palette.grey[800]})),be=n("i8i4"),ve=n.n(be),ye=n("/MKj"),Oe=n("zEHM"),je=function(){return Oe.a},we=n("bWLx"),Ce=n("zGpi"),xe=ne.d.span.withConfig({displayName:"styles__Keyword",componentId:"hi3ddj-0"})(["border-bottom:2px solid ",";cursor:pointer;"],(function(e){return e.theme.palette.common.black})),_e=ne.d.span.withConfig({displayName:"styles__Span",componentId:"hi3ddj-1"})(["white-space:nowrap;"]),Se=Object(ne.d)(Y.a).withConfig({displayName:"styles__PopOver",componentId:"hi3ddj-2"})(["z-index:",";word-wrap:break-word;",""],I.b,(function(e){return e.textLength>300&&Object(ne.c)(["min-width:456px;@media (max-width:","){min-width:400px;}@media (max-width:","){min-width:352px;}@media (max-width:","){min-width:304px;}"],Ce.u.pixels,Ce.i.pixels,Ce.k.pixels)})),Ee=m.a.createElement,Ie=Object($.a)((function(e){var t=e.word,n=e.meaning,r=e.theme;return Ee(_e,null,Ee(A.a,{placement:"top",rootClose:!0,overlay:Ee(Se,{textLength:n.length||0,id:"popover-basic",placement:"bottom"},Ee(ne.a,{theme:r},Ee(we.a,{theme:r},n)))},Ee(xe,{theme:r},t)))})),ke=n("17x9"),Ne=n.n(ke);function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Re(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var De=Object(g.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,o=e.size,i=void 0===o?24:o,a=Re(e,["color","size"]);return m.a.createElement("svg",Pe({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),m.a.createElement("polyline",{points:"10 15 15 20 20 15"}),m.a.createElement("path",{d:"M4 4h7a4 4 0 0 1 4 4v12"}))}));De.propTypes={color:Ne.a.string,size:Ne.a.oneOfType([Ne.a.string,Ne.a.number])},De.displayName="CornerRightDown";var Te=De,Ae=ne.d.span.withConfig({displayName:"styles__Wrapper",componentId:"zccaat-0"})([""]),He=ne.d.span.withConfig({displayName:"styles__Text",componentId:"zccaat-1"})(["",";"],(function(e){var t=e.disabled;return e.displayAsText?Object(ne.c)([""]):t?Object(ne.c)(["padding:1px;border:1px solid ",";background-color:",";"],(function(e){return e.theme.palette.error.main}),(function(e){return e.theme.palette.error.lightP1})):Object(ne.c)(["font-weight:bold;cursor:pointer;"])})),Me=Object(ne.d)(Te).attrs({size:13,strokeWidth:3}).withConfig({displayName:"styles__ExpandIcon",componentId:"zccaat-2"})(["display:inline-block;vertical-align:middle;transition:0.2s;",""],(function(e){return e.expanded&&Object(ne.c)(["transform:rotate(-270deg) scaleX(-1);"])})),Be=ne.d.div.withConfig({displayName:"styles__ConceptComponentsContainer",componentId:"zccaat-3"})(["margin:5px 0 5px 0;padding:5px;box-shadow:0 0 15px ",";border:1px solid ",";border-radius:",";"],(function(e){return e.theme.palette.grey[300]}),(function(e){return e.theme.palette.grey[300]}),re.x),ze=ne.d.span.withConfig({displayName:"styles__Error",componentId:"zccaat-4"})(["font-style:italic;color:",";"],(function(e){return e.theme.palette.grey[300]})),Le=n("1LFi"),Fe=n("b8YG"),Ue=n("SvKN"),Ve=m.a.createElement;function We(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var Xe=function(e){Object(d.a)(n,e);var t=We(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),Object(h.a)(Object(u.a)(e),"state",{expanded:!1}),Object(h.a)(Object(u.a)(e),"toggleExpansion",(function(){var t=e.state.expanded;e.setState({expanded:!t})})),Object(h.a)(Object(u.a)(e),"shouldDisableConcept",(function(t){var n=e.props,r=n.conceptIdBacktrace,o=(0,n.getConcepts)(),i=o.loaded,a=o.concepts;return!i||!a[t]||r.includes(a[t].id)})),Object(h.a)(Object(u.a)(e),"shouldDisplayConceptAsText",(function(t){var n=e.props,r=n.conceptIdBacktrace,o=(0,n.getConcepts)(),i=o.loaded,a=o.concepts;return!i||a[t]&&r.includes(a[t].id)})),Object(h.a)(Object(u.a)(e),"getConceptComponentsByName",(function(t){var n=e.props,r=n.getConceptByName,o=n.authorId,i=n.collectionId,c=n.conceptIdBacktrace,s=r(t),l=s.loaded,u=s.concept,d=s.error;return d?Ve(ze,null,"(",d,")"):l?u?u.comps.map((function(e){return Ve(Le.b,{mode:"view",comp:e,allowComments:!1,authorId:o,collectionId:i,conceptId:u.id,conceptIdBacktrace:[].concat(Object(a.a)(c),[u.id])})})):null:Ve(Fe.a,null)})),Object(h.a)(Object(u.a)(e),"getConceptId",(function(t){var n,r;return(null===(n=e.props.getConceptByName(t))||void 0===n||null===(r=n.concept)||void 0===r?void 0:r.id)||""})),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.word,n=e.name,r=this.state.expanded,o=this.shouldDisableConcept(n),i=this.shouldDisplayConceptAsText(n),a=this.getConceptId(n);return Ve(Ae,null,Ve(He,{onClick:o?function(){}:this.toggleExpansion,disabled:o,displayAsText:i,id:U.C&&a?"text-for-".concat(a):null},t,!o&&Ve(Me,{expanded:r?1:0})),r&&Ve(Be,{className:"conceptBody"},this.getConceptComponentsByName(n)))}}]),n}(m.a.Component),Je=Object(Ue.a)(Xe),qe=m.a.createElement;function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe={KEYWORD:{Component:Ie,requireStore:!1,requireTheme:!1,inheritProps:!0,extractProps:function(e){var t=e.firstElementChild,n=e.lastElementChild;return{word:t.textContent,meaning:n.textContent}}},CONCEPT:{Component:Je,requireStore:!0,requireTheme:!0,inheritProps:!0,extractProps:function(e){var t=e.firstElementChild,n=e.lastElementChild;return{word:t.textContent,name:n.textContent}}}},Ye=function(e){return function(t){var n=function(e,t){var n=e.tagName,r=Qe[n],o=r.Component,i=r.requireStore,a=r.requireTheme,c=r.inheritProps,s=r.extractProps,l=Ke(Ke({},c&&t),s(e)),u=je();return[i?function(e){return qe(ye.a,{store:u},e)}:function(e){return e},a?function(e){return qe(ne.a,{theme:l.theme},qe(we.a,{theme:l.theme},e))}:function(e){return e}].reduce((function(e,t){return function(n){return e(t(n))}}))(qe(o,l))}(t,e),r=function(e){var t=document.createElement("span");return e.parentNode&&e.parentNode.replaceChild(t,e),t}(t);ve.a.render(n,r)}},$e=function(e){if(!(null===e||void 0===e?void 0:e.asPath))return!1;var t=e.asPath.split("/");if(t.length){if("page"===t[1]&&"draft"!==t[t.length-1])return!0;if(("courses"===t[1]||"collection"===t[1])&&"draft"!==t[t.length-1]&&"versions"!==t[t.length-1])return!0}return!1},Ze=n("a6RD"),et=n.n(Ze),tt=function(e){for(var t=function(e){var t,n,r;return!!(null===(t=e.dataset)||void 0===t?void 0:t.id)||"div"===e.nodeName.toLowerCase()&&(null===(n=e.classList)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,"conceptBody"))};!t(e);)e=e.parentNode;return e},nt=function e(t,n){for(var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];;)return n?n.nodeType===Node.TEXT_NODE?n.textContent.trim()&&"\n"!==n.textContent.trim()?n:e(n,r?n.nextSibling:n.previousSibling,r):e(n,r?n.firstChild:n.lastChild,r):(r?t.nextSibling:t.previousSibling)?e(t,r?t.nextSibling:t.previousSibling,r):e(t=t.parentNode,r?t.nextSibling:t.previousSibling,r)},rt=m.a.createElement;function ot(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return it(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function st(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}var lt="markdown_viewer_highlighted_content",ut="markdown_viewer_highlighted_content_with_comment",dt=function(e){Object(d.a)(r,e);var t=st(r);function r(){var e;Object(s.a)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),Object(h.a)(Object(u.a)(e),"state",{selections:{},spanIdToMdChildIdMap:{},danglingSelections:{},contextMenuData:null,removeSelection:null,commentToReassign:null}),Object(h.a)(Object(u.a)(e),"touchEnabled",!1),Object(h.a)(Object(u.a)(e),"enableHighlights",$e(e.props.router)||e.props.isUsedInColumn),Object(h.a)(Object(u.a)(e),"setSelectionsFromSnapshot",(function(t){var n,r,o;if(t.contentSnapshot){var i=null!==(n=null===(r=t.contentSnapshot)||void 0===r?void 0:r.selections)&&void 0!==n?n:{};0===Object.keys(null!==(o=e.state.selections)&&void 0!==o?o:{}).length&&e.setState({selections:i},(function(){e.highlightAll()}))}})),Object(h.a)(Object(u.a)(e),"enableTouch",(function(){e.touchEnabled||(document.addEventListener("selectionchange",e.openCreateHighlightMenuDebounced),document.removeEventListener("touchstart",e.enableTouch),document.addEventListener("touchstart",e.handleOutsideClick),e.touchEnabled=!0)})),Object(h.a)(Object(u.a)(e),"highlightContextMenu",m.a.createRef()),Object(h.a)(Object(u.a)(e),"markdownViewer",m.a.createRef()),Object(h.a)(Object(u.a)(e),"parentDiv",m.a.createRef()),Object(h.a)(Object(u.a)(e),"handleOutsideClick",(function(t){if(e.touchEnabled)e.highlightContextMenu.current&&!e.highlightContextMenu.current.contains(t.target)&&e.cancelSelection();else{var n=e.parentDiv.current;n&&!n.contains(t.target)&&e.cancelSelection()}})),Object(h.a)(Object(u.a)(e),"isAnchorHeadingLink",(function(e){var t=function(e){return e.origin+e.pathname};return t(e)===t(window.location)})),Object(h.a)(Object(u.a)(e),"shouldOpenInNewTab",(function(t){return!e.isAnchorHeadingLink(t)})),Object(h.a)(Object(u.a)(e),"makeLinksToOpenInNewTab",(function(){var t=e.markdownViewer.current.querySelectorAll("a");Array.from(t).filter(e.shouldOpenInNewTab).forEach((function(e){return e.setAttribute("target","_blank")}))})),Object(h.a)(Object(u.a)(e),"setIDsForMdChilds",(function(){for(var t=e.markdownViewer.current.children,n=0;n<=t.length-1;n+=1)t[n].setAttribute("data-id",v()(t[n].textContent))})),Object(h.a)(Object(u.a)(e),"getCurrentSelection",(function(){var e,t,n,r,o;return null!==(e=null!==(t=null!==(n=null===(r=window)||void 0===r?void 0:r.getSelection())&&void 0!==n?n:null===(o=document)||void 0===o?void 0:o.getSelection())&&void 0!==t?t:document.selection.createRange().text)&&void 0!==e?e:null})),Object(h.a)(Object(u.a)(e),"getTheme",(function(e){return pe.e.includes(e)?E[pe.c[e]]:E[pe.c.default]})),Object(h.a)(Object(u.a)(e),"promise",void 0),Object(h.a)(Object(u.a)(e),"setContextMenuData",(function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e.markdownViewer.current){var c=e.markdownViewer.current.getBoundingClientRect(),s=null,l=null,u=15;r-c.left>c.width/2?l=c.right-r+20:s=r-c.left+20;var d=e.props,p=d.isUsedInColumn,f=d.widthOfComp,h=d.widthOfOtherComp,g=d.positionedLeft;if(p){var m=100*c.width/f,b=m*h/100;l=l&&g?l+b:l,s=s&&!g?s+b:s,u=0}e.setState((function(e){return ct(ct({},e),{},{contextMenuData:{edit:n,coords:{left:s,right:l,bottom:c.height+u-(o-c.top),rect:c},range:t,touch:i,isInsideConcept:a}})}))}})),Object(h.a)(Object(u.a)(e),"openEditHighlightMenu",(function(t,n){t.preventDefault(),t.stopPropagation(),e.cancelSelection(),e.setContextMenuData(t.target,!0,n?t.changedTouches[0].clientX:t.clientX,n?t.changedTouches[0].clientY:t.clientY,n)})),Object(h.a)(Object(u.a)(e),"openCreateHighlightMenuDebounced",O()((function(t){e.openCreateHighlightMenu(t)}))),Object(h.a)(Object(u.a)(e),"openCreateHighlightMenu",(function(t){if(t.preventDefault(),e.markdownViewer.current){var n=e.touchEnabled;try{var r=e.getCurrentSelection();if(n&&!e.markdownViewer.current.contains(r.focusNode))return;if((null===r||void 0===r?void 0:r.focusNode)&&!r.focusNode.tagName&&!r.isCollapsed&&r.focusNode.nodeType===Node.TEXT_NODE&&r.anchorNode&&r.anchorNode.nodeType===Node.TEXT_NODE&&""!==r.toString().trim()){var o,i,a=r.getRangeAt(0);if(!e.markdownViewer.current.contains(a.commonAncestorContainer))return;var c=tt(a.startContainer),s=(null===(o=c.classList)||void 0===o||null===(i=o.contains)||void 0===i?void 0:i.call(o,"conceptBody"))&&c.contains(a.endContainer),l=a.getBoundingClientRect();e.setContextMenuData(a,!1,n?(l.right+l.left)/2:t.clientX,n?l.bottom:t.clientY,n,s)}else n||e.cancelSelection()}catch(u){Object(x.b)(u),console.error(u,"\n ERROR AT MARKDOWN VIEWER > openCreateHighlightMenu")}}})),Object(h.a)(Object(u.a)(e),"highlightAll",(function(){var t=e.state,n=t.selections,r=t.danglingSelections,o={},i=!1,a=Array.from(e.markdownViewer.current.children).map((function(e){return e.getAttribute("data-id")}));Object.entries(n).forEach((function(t){var s=Object(c.a)(t,2),l=s[0],u=s[1],d=e.markdownViewer.current.querySelector('[data-id="'.concat(l,'"]'));if(null==d&&Array.isArray(u))return i=!0,n[l]=u.filter((function(e){return!!e.comment})),r[l]=u.filter((function(e){return!!e.comment})),void(0===r[l].length&&(delete r[l],delete n[l]));Array.isArray(u)&&u.forEach((function(t){try{var c;o=ct(ct({},o),{},Object(h.a)({},t.id,l));var s=null===(c=t.addMdChildNodes)||void 0===c?void 0:c.find((function(t){return null==e.markdownViewer.current.querySelector('[data-id="'.concat(t,'"]'))})),p=function(e,t){var n=a.indexOf(e);if(-1===n)return null;var r=n;if(Boolean(t)){var o,i=ot(t);try{for(i.s();!(o=i.n()).done;){var c=o.value;if(++r>a.length||a[r]!==c)return!0}}catch(s){i.e(s)}finally{i.f()}}return!1}(l,t.addMdChildNodes);if(null!=s||p)return i=!0,n[l]=u.filter((function(e){return!(e.id===t.id&&!e.comment)})),r[l]=u.filter((function(e){return e.id===t.id&&!!e.comment})),0===r[l].length&&delete r[l],void(0===n[l].length&&delete n[l]);var f=e.getToContainer(d.firstChild,t.range.firstPoint),g=f.node,m=f.offset,b=e.getToContainer(d.firstChild,t.range.lastPoint),v=b.node,y=b.offset,O=document.createRange();O.setStart(g,m),O.setEnd(v,y),e.applyHighlights(O,t.comment,t.id)}catch(j){Object(x.b)(j,ct(ct({},t),{},{mdChild_Id:l})),Object(w.c)(w.b.INTERACTION,w.a.INTERACTION_MD_HIGHLIGHT_NOTES_FAILED,"Highlight/Notes failed > highlightAll")}}))})),e.setState({spanIdToMdChildIdMap:o},(function(){i&&e.saveHighlights()}))})),Object(h.a)(Object(u.a)(e),"getToContainer",(function(t,n){if(t.firstChild)return e.getToContainer(t.firstChild,n);if(n<=t.textContent.length&&"\n"!==t.textContent)return{node:t,offset:n};if(t.nextSibling)return e.getToContainer(t.nextSibling,n-t.textContent.length);for(var r=t;!r.parentNode.nextSibling;)r=r.parentNode;return e.getToContainer(r.parentNode.nextSibling,n-t.textContent.length)})),Object(h.a)(Object(u.a)(e),"editHighlight",(function(t,n){var r=e.state,o=r.selections,i=r.spanIdToMdChildIdMap,a=t.dataset.id;o[i[a]].filter((function(e){return e.id===a}))[0].comment=n,n?Object(w.c)(w.b.INTERACTION,w.a.INTERACTION_MD_NOTE_SAVED,"NoteSaved"):Object(w.c)(w.b.INTERACTION,w.a.INTERACTION_MD_HIGHLIGHTED,"Highlighted"),e.setState({selections:o},(function(){e.saveHighlights();var t=e.markdownViewer.current.querySelectorAll('[data-id="'.concat(a,'"]'));Array.from(t).forEach((function(e){e.className=n?ut:lt})),e.cancelSelection()}))})),Object(h.a)(Object(u.a)(e),"removeHighlight",(function(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e.state,i=o.commentToReassign,a=o.selections,c=e.state,s=c.spanIdToMdChildIdMap,l=c.danglingSelections,u=r?t.highlight_id:t.dataset.id,d=r?t.currentP_id:s[u],p=a[d].filter((function(e){return e.id===u}))[0],f=!r&&p.comment,g=!r&&t.parentNode,m=p.range,b=m.firstPoint,v=m.lastPoint;(r?(e.props.logWidgetInteraction({interaction_touch_point:C.k,paragraph_id:d,first_point:b,last_point:v}),Object(w.c)(w.b.INTERACTION,w.a.INTERACTION_MD_MOVED_NOTE_REMOVED,"MovedNoteRemoved")):f?(e.props.logWidgetInteraction({interaction_touch_point:C.m,paragraph_id:d,first_point:b,last_point:v}),Object(w.c)(w.b.INTERACTION,w.a.INTERACTION_MD_NOTE_REMOVED,"NoteRemoved")):(e.props.logWidgetInteraction({interaction_touch_point:C.j,paragraph_id:d,first_point:b,last_point:v}),Object(w.c)(w.b.INTERACTION,w.a.INTERACTION_MD_HIGHLIGHT_REMOVED,"HighlightRemoved")),f)?p.comment=null:(a=ct(ct({},a),{},Object(h.a)({},d,a[d].filter((function(e){return e.id!==u})))),r&&(l[d]=l[d].filter((function(e){return e.id!==u})),0===l[d].length&&delete l[d],0===a[d].length&&delete a[d],(null===(n=i)||void 0===n?void 0:n.id)===u&&(i=null)));e.setState({selections:a,danglingSelections:l,commentToReassign:i,contextMenuData:null},(function(){if(e.saveHighlights(),!r){var t=e.markdownViewer.current.querySelectorAll('[data-id="'.concat(u,'"]'));Array.from(t).forEach((function(e){f||e.parentNode.replaceChild(e.firstChild,e),e.className=lt})),g.normalize()}}))})),Object(h.a)(Object(u.a)(e),"createSpanForHighlight",(function(e,t){var n=document.createElement("span");return n.setAttribute("class",t),n.setAttribute("data-id",e),n})),Object(h.a)(Object(u.a)(e),"createHighlight",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{var o=null,i=e.state,c=i.danglingSelections,s=i.selections;r&&(o=r.id,n=r.comment,c[r.currentP_id]=c[r.currentP_id].filter((function(e){return e.id!==o})),0===c[r.currentP_id].length&&delete c[r.currentP_id],s[r.currentP_id]=s[r.currentP_id].filter((function(e){return e.id!==o})),0===s[r.currentP_id].length&&delete s[r.currentP_id]);var l=e.getStartPoint(t.startContainer.previousSibling,t.startContainer.parentNode,t.startOffset),u=l.mdChild_Id,d=l.offset,p=d+t.toString().length,f=[],g=e.applyHighlights(t,n,o,f,d,p),m=g.spanId,b=g.updatedFirstPoint,v=g.updatedLastPoint,y=g.nodeText,O={id:m,comment:n,range:{firstPoint:b,lastPoint:v},addMdChildNodes:f,highlightedText:y,version:1};e.setState((function(e){return ct(ct({},e),{},{selections:ct(ct({},e.selections),{},Object(h.a)({},u,[].concat(Object(a.a)(e.selections[u]||[]),[O]))),danglingSelections:c,spanIdToMdChildIdMap:ct(ct({},e.spanIdToMdChildIdMap),{},Object(h.a)({},m,u)),commentToReassign:r?null:e.commentToReassign})}),(function(){e.saveHighlights(),e.cancelSelection(),r?(e.props.logWidgetInteraction({interaction_touch_point:C.l,paragraph_id:u,first_point:b,last_point:v}),Object(w.c)(w.b.INTERACTION,w.a.INTERACTION_MD_MOVED_NOTE_REASSIGNED,"NoteReassigned")):n?(e.props.logWidgetInteraction({interaction_touch_point:C.n,paragraph_id:u,first_point:b,last_point:v}),Object(w.c)(w.b.INTERACTION,w.a.INTERACTION_MD_NOTE_SAVED,"NoteSaved")):(e.props.logWidgetInteraction({interaction_touch_point:C.i,paragraph_id:u,first_point:b,last_point:v}),Object(w.c)(w.b.INTERACTION,w.a.INTERACTION_MD_HIGHLIGHTED,"Highlighted"))}))}catch(j){Object(x.b)(j,{range:t.toString()}),Object(w.c)(w.b.INTERACTION,w.a.INTERACTION_MD_HIGHLIGHT_NOTES_FAILED,"Highlight/Notes failed > createHighlight")}})),Object(h.a)(Object(u.a)(e),"getStartPoint",(function(t,n,r){var o,i;return t?!e.isSpan(t)&&(null===t||void 0===t||null===(o=t.dataset)||void 0===o?void 0:o.id)?{mdChild_Id:t.dataset.id,offset:r}:e.getStartPoint(t.previousSibling,n,r+t.textContent.length):!e.isSpan(n)&&(null===n||void 0===n||null===(i=n.dataset)||void 0===i?void 0:i.id)?e.getStartPoint(n,n.parentNode,r):e.getStartPoint(n.previousSibling,n.parentNode,r)})),Object(h.a)(Object(u.a)(e),"applyHighlights",(function(t,n){var r,o,i,a,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,d=c||Object(S.d)(),p=n?ut:lt,f=[],h=!1,g={nodesToFilter:[],endParentNode:tt(t.endContainer),startParentNode:tt(t.startContainer)},m=null===(r=g.endParentNode.classList)||void 0===r||null===(o=r.contains)||void 0===o?void 0:o.call(r,"conceptBody"),b=null===(i=g.startParentNode.classList)||void 0===i||null===(a=i.contains)||void 0===a?void 0:a.call(i,"conceptBody"),v=u,y=l;if(b){y-=t.startOffset-1,v-=g.startParentNode.textContent.length;var O=nt(g.startParentNode,g.startParentNode.nextSibling);t.setStart(O,0)}if(m){v-=t.endOffset;var j=nt(g.endParentNode,g.endParentNode.previousSibling,!1);t.setEnd(j,j.textContent.length)}for(var w=t.startContainer;!h;)if(!(h=e.findAllTextNodesinRange(w,t.endContainer,f,s,g.nodesToFilter))){for(;!w.parentNode.nextSibling;)w=w.parentNode;w=w.parentNode.nextSibling}var C=g.nodesToFilter.reduce((function(e,t){var n;return e+(null===(n=t.textContent)||void 0===n?void 0:n.length)}),0);v-=C,f[0].length>t.startOffset&&(f[0]=f[0].splitText(t.startOffset)),f[f.length-1].length>t.endOffset&&(f[f.length-1]=f[f.length-1].splitText(t.endOffset).previousSibling);var x="";return f=f.map((function(t){x="".concat(x).concat(t.textContent);var n=e.createSpanForHighlight(d,p);return t.parentNode.insertBefore(n,t),t.parentNode.removeChild(t),n.appendChild(t),t.parentNode.onclick=function(t){return e.openEditHighlightMenu(t,!1)},t.parentNode.ontouchend=function(t){return e.openEditHighlightMenu(t,!0)},t})),{spanId:d,updatedFirstPoint:y,updatedLastPoint:v,nodeText:x}})),Object(h.a)(Object(u.a)(e),"findAllTextNodesinRange",(function(t,n,r,o){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=!1;t&&!a;t=t.nextSibling){var c,s,l,u;if(null===(c=t.classList)||void 0===c||null===(s=c.contains)||void 0===s?void 0:s.call(c,"conceptBody"))i.push(t);else if(t.nodeType===Node.TEXT_NODE)"\n"!==t.data&&r.push(t),t.isSameNode(n)&&(a=!0);else o&&!e.isSpan(t)&&(null===(l=t)||void 0===l||null===(u=l.dataset)||void 0===u?void 0:u.id)&&o.push(t.dataset.id),a=e.findAllTextNodesinRange(t.firstChild,n,r,o,i)}return a})),Object(h.a)(Object(u.a)(e),"isSpan",(function(e){return"span"===e.nodeName.toLowerCase()&&(e.className===lt||e.className===ut)})),Object(h.a)(Object(u.a)(e),"saveCommenToReassign",(function(t){e.state.commentToReassign!==t&&(e.setState({commentToReassign:t}),Object(w.c)(w.b.INTERACTION,w.a.INTERACTION_MD_MOVED_NOTE_REASSIGN_INIT,"NoteReassignInit"))})),Object(h.a)(Object(u.a)(e),"cancelSelection",(function(){null!==e.state.contextMenuData&&e.setState({contextMenuData:null})})),Object(h.a)(Object(u.a)(e),"stopRemoveSelection",(function(){e.setState({removeSelection:!1})})),Object(h.a)(Object(u.a)(e),"saveHighlights",(function(){var t=e.state.selections;e.props.saveHighlights({selections:t})})),Object(h.a)(Object(u.a)(e),"removeAllDanglingSelections",(function(){var t=e.state,n=t.danglingSelections,r=t.selections;Object.keys(n).forEach((function(e){delete r[e]})),Object(w.c)(w.b.INTERACTION,w.a.INTERACTION_MD_MOVED_NOTE_REMOVED_ALL,"MovedNotesAllRemoved"),e.setState({danglingSelections:{}},(function(){e.saveHighlights()}))})),Object(h.a)(Object(u.a)(e),"calculateBackgroundDetail",(function(){if(e.props.backgroundColor&&!e.state.backgroundDetail){var t={left:e.parentDiv.current.getBoundingClientRect().left};e.setState({backgroundDetail:t})}})),e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){this.enableHighlights&&(document.addEventListener("mousedown",this.handleOutsideClick),document.addEventListener("touchstart",this.enableTouch)),this.updateView(),this.setSelectionsFromSnapshot(this.props)}},{key:"componentDidUpdate",value:function(e){var t,n,r,o,i,a,c;this.enableHighlights=$e(this.props.router)||this.props.isUsedInColumn,this.props!==e&&this.setSelectionsFromSnapshot(this.props);var s=null===(t=this.props)||void 0===t||null===(n=t.docker)||void 0===n||null===(r=n.container)||void 0===r||null===(o=r.liveInstance)||void 0===o?void 0:o.id,l=null===e||void 0===e||null===(i=e.docker)||void 0===i||null===(a=i.container)||void 0===a||null===(c=a.liveInstance)||void 0===c?void 0:c.id;this.enableHighlights&&e.mdHtml===this.props.mdHtml&&s===l&&e.userThemes===this.props.userThemes||this.updateView()}},{key:"componentWillUnmount",value:function(){this.enableHighlights&&(document.removeEventListener("mousedown",this.handleOutsideClick),this.touchEnabled&&(document.removeEventListener("selectionchange",this.openCreateHighlightMenuDebounced),document.removeEventListener("touchstart",this.handleOutsideClick)))}},{key:"setColorization",value:function(){var e=Object(i.a)(o.a.mark((function e(){var t,r,a,c,s=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.userThemes||"default",r="cm-viewer-markdown disable-cursor",!Array.from(this.markdownViewer.current.querySelectorAll("pre")).filter((function(e){return e.getAttribute("class")!==r})).length){e.next=8;break}return e.next=5,et()((function(){return Promise.all([n.e(65),n.e(25),n.e(50)]).then(n.bind(null,"XtXU"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["XtXU"]},modules:["components/helpers/MonacoEditor"]}}).render.preload();case 5:a=e.sent,c=null,this.markdownViewer.current&&Array.from(this.markdownViewer.current.querySelectorAll("pre")).filter((function(e){return e.getAttribute("class")!==r})).forEach(function(){var e=Object(i.a)(o.a.mark((function e(n){var i,l,u,d,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(i=n.firstElementChild)||void 0===i?void 0:i.textContent)&&!(i.textContent.length<1)){e.next=3;break}return e.abrupt("return");case 3:l=i.getAttribute("class")?i.getAttribute("class").replace("language-",""):pe.d,n.setAttribute("class",r),(u=i.textContent).length&&("\n"!==(d=u.charAt(u.length-1))&&"\r"!==d||(u=u.slice(0,-1))),p=s.getTheme(t),n.setAttribute("style","background-color: ".concat(p.background,"; border-radius: 0px;")),c=Object(_.a)(null===l||void 0===l?void 0:l.toLowerCase()),i.setAttribute("data-lang",c),i.textContent=u,a.default.colorize(i,{theme:p.colorizeTheme});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:this.markdownViewer.current&&(this.props.openLinksInNewTab&&this.makeLinksToOpenInNewTab(),this.enableHighlights&&this.setIDsForMdChilds());case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateView",value:function(){this.renderCustomElements(),this.promise=this.setColorization(),this.calculateBackgroundDetail()}},{key:"renderCustomElements",value:function(){var e,t=null===(e=this.markdownViewer.current)||void 0===e?void 0:e.querySelectorAll("keyword, concept");Array.from(t).forEach(Ye(this.props))}},{key:"render",value:function(){var e=this.state,t=e.contextMenuData,n=e.selections,r=e.danglingSelections,o=e.removeSelection,i=e.commentToReassign,a=e.spanIdToMdChildIdMap,c=e.backgroundDetail,s=this.props,l=s.isShot,u=s.backgroundColor,d=s.isQuiz,p=s.isStructuredQuiz,f=s.structuredQuizTitle,h=s.isUsedInColumn?"100%":"auto";return rt(m.a.Fragment,null,rt(me,null),rt(fe.a,{className:p?"overflow-x-auto w-full":"markdown-container-div",height:h,ref:this.parentDiv},u&&c&&rt("div",{style:{right:0,left:-1*c.left,top:0,bottom:0,width:"calc(100vw + ".concat(c.left,"px)"),position:"absolute",backgroundColor:u,zIndex:I.z,height:h}}),t&&rt(J,{ref:this.highlightContextMenu,closeMenu:this.cancelSelection,onHighlightCreate:this.createHighlight,onHighlightEdit:this.editHighlight,onHighlightRemove:this.removeHighlight,selections:n,spanToMdChild:a,menuData:t,commentToReassign:i,removeSelection:!!o,onStopRemoveSelection:this.stopRemoveSelection}),Object.keys(null!==r&&void 0!==r?r:{}).length>0&&rt(de,{onSaveCommenToReassign:this.saveCommenToReassign,onHighlightRemove:this.removeHighlight,onRemoveAll:this.removeAllDanglingSelections,danglingSelections:r}),d?rt("span",{className:"text-base"},rt(fe.c,{structuredQuizTitle:f,className:"markdownViewerQuiz",ref:this.markdownViewer,role:"none",onMouseUp:this.enableHighlights&&!l?this.openCreateHighlightMenu:function(){},dangerouslySetInnerHTML:{__html:this.props.mdHtml}})):rt(fe.d,{className:"markdownViewer",id:U.C?this.props.id:null,ref:this.markdownViewer,role:"none",onMouseUp:this.enableHighlights&&!l?this.openCreateHighlightMenu:function(){},renderedInTOC:this.props.renderedInTOC,setHeight:this.props.isUsedInColumn,dangerouslySetInnerHTML:{__html:this.props.mdHtml}})))}}]),r}(m.a.Component);Object(h.a)(dt,"defaultProps",{openLinksInNewTab:!0,contentSnapshot:null,saveHighlights:null,docker:{container:{liveInstance:{}}},logWidgetInteraction:function(){return null},isShot:!1,backgroundColor:null,isQuiz:!1,isStructuredQuiz:!1,structuredQuizTitle:!1,renderedInTOC:!1,isUsedInColumn:!1,conceptIdBacktrace:[],widthOfComp:50,widthOfOtherComp:50});t.a=Object(j.withRouter)(Object($.a)(dt))},PDX0:function(e,t){(function(t){e.exports=t}).call(this,{})},SWXX:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n("vOnD"),o=n("Dsxo"),i=r.d.div.withConfig({displayName:"styles__HighlightContextMenuStyled",componentId:"sc-1iktvnh-0"})(["position:absolute;z-index:100;"]),a=r.d.div.withConfig({displayName:"styles__Menu",componentId:"sc-1iktvnh-1"})(["background-color:",";border-radius:",";box-shadow:0 0 10px ",";padding:10px 0px 10px;"],(function(e){return e.theme.palette.common.white}),o.x,(function(e){return e.theme.palette.alphas.black2})),c=r.d.div.withConfig({displayName:"styles__Menu_ButtonsContainer",componentId:"sc-1iktvnh-2"})(["display:flex;justify-content:center;"]),s=r.d.div.withConfig({displayName:"styles__Menu_ButtonsContainer_Button",componentId:"sc-1iktvnh-3"})(["width:44px;height:100%;display:inline-flex;justify-content:center;align-items:center;transition:0.2s;:hover{svg{stroke:",";}}",""],(function(e){return e.theme.palette.primary.main}),(function(e){return e.danger&&Object(r.c)([":hover{svg{stroke:",";}}"],(function(e){return e.theme.palette.error.main}))})),l=r.d.div.withConfig({displayName:"styles__Menu_TextPreview",componentId:"sc-1iktvnh-4"})(["margin:10px 15px 10px;padding:4px 10px;border:1px solid ",";border-left:8px solid ",";max-width:250px;max-height:250px;overflow-y:auto;text-align:left;white-space:pre-line;word-break:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;hyphens:auto;"],(function(e){return e.theme.palette.grey[300]}),(function(e){return e.theme.palette.primary.lightP1})),u=r.d.div.withConfig({displayName:"styles__EditNote",componentId:"sc-1iktvnh-5"})(["position:relative;user-select:none !important;width:320px;height:250px;border-radius:",";box-shadow:0 0 10px ",";background-color:",";padding:20px;"],o.l,(function(e){return e.theme.palette.alphas.black1}),(function(e){return e.theme.palette.common.white})),d=r.d.div.withConfig({displayName:"styles__EditNote_Counter",componentId:"sc-1iktvnh-6"})(["color:",";position:absolute;bottom:50px;right:20px;width:auto;z-index:3;"],(function(e){return e.theme.palette.grey[600]})),p=r.d.textarea.withConfig({displayName:"styles__EditNote_Input",componentId:"sc-1iktvnh-7"})(["width:100%;resize:none;height:auto;min-height:160px;outline:none;border-radius:",";border:1px solid ",";margin:0 0 10px 0;padding:10px 10px 0px 10px;"],o.v,(function(e){return e.theme.palette.grey[300]})),f=r.d.div.withConfig({displayName:"styles__EditNote_ButtonsContainer",componentId:"sc-1iktvnh-8"})(["display:flex;justify-content:space-around;padding:5px 30px;"]);t.i=i},StAi:function(e,t,n){"use strict";var r=n("DmeH"),o=n("7ZwO");t.a=function(){return function(e){return function(t){switch(t.type){case r.b.set.type:Object(o.b)(t.payload.key_id,t.payload.value)}e(t)}}}},SuWi:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("rePB"),o=n("Ff2n");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=Symbol("Call API");t.b=function(e){return function(e){return function(t){if(!function(e){if(!e)return!1;var t=e[c];return"undefined"!==typeof t&&!!t.promise}(t))return e(t);var n=t[c],r=n.types,i=n.promise,s=n.cb,l=Object(o.a)(n,["types","promise","cb"]),u=null===r||void 0===r?void 0:r.pending.type,d=null===r||void 0===r?void 0:r.fulfilled.type,p=null===r||void 0===r?void 0:r.rejected.type;return r&&e(function(e){var n=a(a({},t),e);return delete n[c],n}(a(a({},l),{},{type:u}))),i().then((function(t){return r&&e(a(a({},l),{},{payload:t,type:d})),s&&s(null,t),t})).catch((function(t){r&&e(a(a({},l),{},{error:t,type:p})),s&&s(t)}))}}}},SvKN:function(e,t,n){"use strict";var r=n("Ff2n"),o=n("o0o1"),i=n.n(o),a=n("HaE+"),c=n("ODXe"),s=n("1OyB"),l=n("vuIU"),u=n("JX7q"),d=n("Ji7U"),p=n("md7G"),f=n("foSv"),h=n("rePB"),g=n("q1tI"),m=n.n(g),b=n("/MKj"),v=n("fNkK"),y=n("IVFz");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e,t){return"/api/author/".concat(e,"/collection/").concat(t,"/concept")},C=function(e){var t,n,r;if(!(null===(t=e())||void 0===t||null===(n=t.author)||void 0===n||null===(r=n.concepts)||void 0===r?void 0:r.data))throw Error("Concepts were not loaded")},x=n("XZhq"),_=m.a.createElement;function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(p.a)(this,n)}}t.a=function(e){var t=Object(b.b)((function(e){var t=e.author,n=e.modals,r=e.assessment,o=t.collection,i=t.concepts,a=i.loaded,c=i.loading,s=i.data,l=i.error,u=null,d=null;if(null===o||void 0===o?void 0:o.instance){var p,f;u=null===(p=o.instance)||void 0===p?void 0:p.details.author_id,d=null===(f=o.instance)||void 0===f?void 0:f.details.collection_id}else{var h=r.data;u=null===h||void 0===h?void 0:h.author_id,d=null===h||void 0===h?void 0:h.collection_id}var g=n.typeToShow;return{conceptProviderStateProps:{authorId:u,collectionId:d,shouldLoadConcepts:!a&&!c,conceptsLoading:c,concepts:n.showModal&&g===x.s?{conceptName:{id:0,usageCount:1,comps:[{hash:0,mode:"view",type:"MarkdownEditor",content:{version:"2.0",text:"Markdown Help Concept",mdHtml:"<p>Markdown Help Concept</p>",cursorPosition:{line:0,ch:0}}}]}}:s,error:l}}}),(function(e){return{conceptProviderDispatchProps:{loadConceptNames:function(t){e(y.a.loadMetadata(t))},loadConcept:function(t){e(y.a.load(t))},createConcept:function(t){return e(function(e){var t=e.authorId,n=e.collectionId,r=e.name,o=e.comps;return function(e,i){var a=JSON.stringify(o);return Object(v.a)({url:w(t,n),type:"POST",data:{name:r,json_data:a}}).then(JSON.parse).then((function(t){var n=t.id,a=t.usage_count;C(i),e(y.a.update({id:n,name:r,comps:o,usageCount:a}))}))}}(t))},editConcept:function(t){return e(function(e){var t=e.authorId,n=e.collectionId,r=e.conceptId,o=e.name,i=e.comps;return function(e,a){var c=i&&JSON.stringify(i);return Object(v.a)({url:w(t,n)+"/".concat(r),type:"PUT",data:j(j({},o&&{name:o}),c&&{json_data:c})}).then(JSON.parse).then((function(t){var n=t.usage_count;C(a),e(y.a.update({id:r,name:o,comps:i,usageCount:n}))}))}}(t))},deleteConcept:function(t){return e(function(e){var t=e.authorId,n=e.collectionId,r=e.conceptId;return function(e,o){return Object(v.a)({url:w(t,n)+"/".concat(r),type:"DELETE"}).then((function(){C(o),e(y.a.remove({id:r}))}))}}(t))},dispatch:e}}})),n=function(t){Object(d.a)(o,t);var n=I(o);function o(){var e;Object(s.a)(this,o);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e=n.call.apply(n,[this].concat(r)),Object(h.a)(Object(u.a)(e),"getConcepts",(function(){var t=e.props.conceptProviderStateProps,n=t.concepts,r=t.error;return void 0===n?E({loaded:!1},r&&{error:r}):{loaded:!0,concepts:n}})),Object(h.a)(Object(u.a)(e),"getConceptByName",(function(t){var n=e.props.conceptProviderStateProps,r=n.authorId,o=n.collectionId,i=n.concepts,a=n.conceptsLoading,c=n.error,s=e.props.conceptProviderDispatchProps.loadConcept;if(void 0===i)return E({loaded:!1},c&&{error:c});var l=i[t];if(void 0===l)return{loaded:!0};var u=l.id,d=l.comps,p=l.usageCount;if(void 0===d){if(r&&o&&!a)s({authorId:r,collectionId:o,conceptId:u,published:!e.props.isDraft});return E({loaded:!1},c&&{error:c})}return{loaded:!0,concept:{id:u,comps:d,usageCount:p}}})),Object(h.a)(Object(u.a)(e),"getConceptById",(function(t){var n=e.props.conceptProviderStateProps,r=n.authorId,o=n.collectionId,i=n.concepts,a=n.conceptsLoading,s=n.error,l=e.props.conceptProviderDispatchProps.loadConcept;if(void 0===i)return E({loaded:!1},s&&{error:s});var u=Object.entries(i).find((function(e){var n=Object(c.a)(e,2);n[0];return n[1].id===t}));if(void 0===u)return{loaded:!0};var d=Object(c.a)(u,2),p=d[0],f=d[1],h=f.comps,g=f.usageCount;if(void 0===h){if(r&&o&&!a){var m=!e.props.isDraft;l({authorId:r,collectionId:o,conceptId:t,published:m})}return E({loaded:!1},s&&{error:s})}return{loaded:!0,concept:{name:p,comps:h,usageCount:g}}})),Object(h.a)(Object(u.a)(e),"getConceptNameById",(function(t){var n=e.props.conceptProviderStateProps,r=n.concepts,o=n.error;if(void 0===r)return E({loaded:!1},o&&{error:o});var i=Object.entries(r).find((function(e){var n=Object(c.a)(e,2);n[0];return n[1].id===t}));return void 0===i?{loaded:!0}:{loaded:!0,name:Object(c.a)(i,1)[0]}})),Object(h.a)(Object(u.a)(e),"getConceptIdByName",(function(t){var n=e.props.conceptProviderStateProps,r=n.concepts,o=n.error;if(void 0===r)return E({loaded:!1},o&&{error:o});var i=r[t];return void 0===i?{loaded:!0}:{loaded:!0,id:i.id}})),Object(h.a)(Object(u.a)(e),"errorPromise",function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw Error(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(h.a)(Object(u.a)(e),"createConcept",(function(t,n){var r=Object(u.a)(e).errorPromise,o=e.props.conceptProviderStateProps,i=o.authorId,a=o.collectionId,c=e.props.conceptProviderDispatchProps.createConcept;return i&&a?c({authorId:i,collectionId:a,name:t,comps:n}):r("Not ready to create")})),Object(h.a)(Object(u.a)(e),"editConcept",(function(t,n,r){var o=Object(u.a)(e).errorPromise,i=e.props.conceptProviderStateProps,a=i.authorId,c=i.collectionId,s=e.props.conceptProviderDispatchProps.editConcept;return a&&c?s({authorId:a,collectionId:c,conceptId:t,name:n,comps:r}):o("Not ready to edit")})),Object(h.a)(Object(u.a)(e),"deleteConcept",(function(t){var n=Object(u.a)(e).errorPromise,r=e.props.conceptProviderStateProps,o=r.authorId,i=r.collectionId,a=e.props.conceptProviderDispatchProps.deleteConcept;return o&&i?a({authorId:o,collectionId:i,conceptId:t}):n("Not ready to delete")})),e}return Object(l.a)(o,[{key:"componentDidMount",value:function(){var e=this.props.conceptProviderStateProps,t=e.authorId,n=e.collectionId,r=e.shouldLoadConcepts,o=this.props.conceptProviderDispatchProps.loadConceptNames;t&&n&&r&&o({authorId:t,collectionId:n,published:!this.props.isDraft})}},{key:"componentDidUpdate",value:function(e){var t=this.props.conceptProviderStateProps,n=t.authorId,r=t.collectionId,o=t.shouldLoadConcepts,i=e.conceptProviderStateProps,a=i.authorId,c=i.collectionId,s=this.props.conceptProviderDispatchProps.loadConceptNames;n&&r&&(n!==a||r!==c)&&o&&s({authorId:n,collectionId:r,published:!this.props.isDraft})}},{key:"render",value:function(){var t=this.props,n=(t.conceptProviderStateProps,t.conceptProviderDispatchProps),o=Object(r.a)(t,["conceptProviderStateProps","conceptProviderDispatchProps"]),i={getConcepts:this.getConcepts,getConceptById:this.getConceptById,getConceptByName:this.getConceptByName,getConceptNameById:this.getConceptNameById,getConceptIdByName:this.getConceptIdByName,createConcept:this.createConcept,editConcept:this.editConcept,deleteConcept:this.deleteConcept,dispatch:n.dispatch},a=E(E({},o),i);return _(e,a)}}]),o}(m.a.Component);return Object(h.a)(n,"defaultProps",{isDraft:!0}),t(n)}},VRBI:function(e,t,n){"use strict";var r=n("rePB"),o=n("Ff2n");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){return function(e){return function(t){if(!function(e){if(!e)return!1;var t=e.postProcess,n=e.payload;return!(!t||!n)}(t))return e(t);var n=t.postProcess,r=t.payload,i=Object(o.a)(t,["postProcess","payload"]);return e(a(a({},i),{},{payload:n?n(r):r}))}}}},ZwUw:function(e,t,n){"use strict";var r=n("3Epe"),o=n("MF81"),i=n("BykT"),a=n("H3mV"),c=n("9JIs"),s=n("0t6C"),l=[i.a,c.b].map((function(e){return e.pending.type})),u=[a.b,i.a,i.a,c.b,s.b].map((function(e){return e.fulfilled.type})),d={};t.a=function(e){return function(t){return function(n){var p,f,h,g;if(l.includes(n.type)){d={compIds:null,authorId:null,userId:null,pageId:null,collectionId:null};var m=n.resetWidgetUserData;return(void 0===m||m)&&e.dispatch(o.f.reset()),t(n)}var b=e.getState();if(d.userId=null===b||void 0===b||null===(p=b.user)||void 0===p||null===(f=p.info)||void 0===f||null===(h=f.data)||void 0===h?void 0:h.user_id,!u.includes(n.type)||!d.userId)return t(n);if(n.type===s.b.fulfilled.type||n.type===a.b.fulfilled.type){if(!n.payload.components)return t(n);d.compIds=n.payload.components.map((function(e){return e.content.comp_id})).filter(Boolean)}return n.type===c.b.fulfilled.type&&(d.authorId=n.payload.author_id,d.pageId=n.payload.id),n.type===i.a.fulfilled.type&&(d.authorId=n.payload.author_id,d.collectionId=n.payload.collection_id,d.pageId=n.payload.page_id),(null===(g=d.compIds)||void 0===g?void 0:g.length)&&d.authorId&&d.userId&&d.pageId&&e.dispatch(Object(r.b)(d)),t(n)}}}},aQzX:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return m}));var r=n("vOnD"),o=n("ulad"),i=n("z430"),a=n("Dsxo"),c=n("PS9J"),s=n("zGpi"),l=r.d.div.withConfig({displayName:"styles__MarkdownEditorStyled",componentId:"sc-1vi6ja9-0"})(["width:100%;.textEditor-Markdown{position:relative;}.textEditor-Markdown-label{z-index:100;text-align:center;border-bottom:none;background:",";border-radius:",";padding:10px 0;width:100%;&.left{left:-10px;}}@media (max-width:480px){.textEditor-Markdown-label{text-align:left;}}.btn .btn-expand{position:absolute;right:15px;top:5px;border:none;background:transparent;svg{transition:0.2s;cursor:pointer;&:hover{stroke:",";}}&:active,&:hover,&:focus{outline:none;background:transparent;box-shadow:none;}}.btn .btn-close{border:none;background:transparent;padding:0;position:absolute;top:27px;right:30px;z-index:1;svg{transition:0.2s;cursor:pointer;&:hover{stroke:",";}}&:active,&:hover,&:focus{outline:none;background:transparent;box-shadow:none;}& > i{font-size:20px;}}.panel{box-shadow:none;border-color:",";margin-bottom:0;height:40px;.b-btn_default{color:",";line-height:0;vertical-align:super;&:hover{color:",";}}.panel-body{padding:0;}.grid-icon{stroke:",";margin:6px 8px 0px 9px;transition:0.2s;cursor:pointer;&:hover{stroke:",";}}.grid-icon-no-right-padding{stroke:",";margin:6px 0px 0px 9px;transition:0.2s;cursor:pointer;&:hover{stroke:",";}}.b-image-slim-uploader{width:35px;height:35px;.image-upload-btn{margin:0;color:",";padding:0;top:2px;&:hover{color:",";}}.form-control[type='file']{width:50px;height:auto;}}.markdown-help-icon{@media (max-width:","){display:none;}}}"],(function(e){return e.theme.palette.grey[100]}),a.v,(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.grey[300]}),(function(e){return e.theme.palette.grey[400]}),(function(e){return e.theme.palette.grey[500]}),(function(e){return e.theme.palette.grey[400]}),(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.grey[400]}),(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.grey[400]}),(function(e){return e.theme.palette.grey[500]}),s.g.pixels),u=Object(r.d)(l).withConfig({displayName:"styles__FullScreen",componentId:"sc-1vi6ja9-1"})(["padding:20px;overflow-y:auto;.col,.row,.textEditor-Markdown,.cmcomp-editor-container-markdown,.CodeMirror-wrap,.markdownViewer,.viewer-container{height:100%;}.markdownViewer{overflow:auto;}"]),d=r.d.div.withConfig({displayName:"styles__SpellCheckToggle",componentId:"sc-1vi6ja9-2"})(["position:absolute;top:10px;right:30px;line-height:0;cursor:pointer;svg{transition:0.2s;cursor:pointer;&:hover{stroke:",";}}.switch{width:34px;height:18px;& .switch-toggle{width:17px;height:16px;}& .on{background:",";.switch-toggle{left:15px;}}}"],(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.grey[400]})),p=Object(r.d)(d).withConfig({displayName:"styles__SpellCheckToggleFullScreen",componentId:"sc-1vi6ja9-3"})(["right:53px;svg{transition:0.2s;cursor:pointer;&:hover{stroke:",";}}"],(function(e){return e.theme.palette.primary.main})),f=r.d.div.withConfig({displayName:"styles__PreviewToggle",componentId:"sc-1vi6ja9-4"})(["position:absolute;top:11px;right:60px;cursor:pointer;"," svg{transition:0.2s;cursor:pointer;&:hover{stroke:",";}}"],(function(e){return e.inQuiz&&Object(r.c)(["right:30px;"])}),(function(e){return e.theme.palette.primary.main})),h=Object(r.d)(f).withConfig({displayName:"styles__PreviewToggleFullScreen",componentId:"sc-1vi6ja9-5"})(["right:83px;",""],(function(e){return e.inQuiz&&Object(r.c)(["right:30px;"])})),g=Object(r.d)(o.a).withConfig({displayName:"styles__PopOver",componentId:"sc-1vi6ja9-6"})(["z-index:",";"],c.c),m=Object(r.d)(i.a).withConfig({displayName:"styles__MarkdownTextarea",componentId:"sc-1vi6ja9-7"})(["width:98%;border:none;background:transparent;outline:none;resize:none;font-family:Consolas,'Liberation Mono',Menlo,Courier,monospace;min-height:50px;"]);t.h=l},gjeX:function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"===typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"===typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&"object"===typeof module&&module.exports,AMD=__webpack_require__("PDX0"),ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}!root.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e){return function(t){return new Md5(!0).update(t)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.create=function(){return new Md5},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var n=OUTPUT_TYPES[t];e[n]=createOutputMethod(n)}return e},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"===typeof e)return crypto.createHash("md5").update(e,"utf8").digest("hex");if(null===e||void 0===e)throw ERROR;return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash("md5").update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod};function Md5(e){if(e)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw ERROR;if(null===e)throw ERROR;if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw ERROR;t=!0}for(var r,o,i=0,a=e.length,c=this.blocks,s=this.buffer8;i<a;){if(this.hashed&&(this.hashed=!1,c[0]=c[16],c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),t)if(ARRAY_BUFFER)for(o=this.start;i<a&&o<64;++i)s[o++]=e[i];else for(o=this.start;i<a&&o<64;++i)c[o>>2]|=e[i]<<SHIFT[3&o++];else if(ARRAY_BUFFER)for(o=this.start;i<a&&o<64;++i)(r=e.charCodeAt(i))<128?s[o++]=r:r<2048?(s[o++]=192|r>>6,s[o++]=128|63&r):r<55296||r>=57344?(s[o++]=224|r>>12,s[o++]=128|r>>6&63,s[o++]=128|63&r):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++i)),s[o++]=240|r>>18,s[o++]=128|r>>12&63,s[o++]=128|r>>6&63,s[o++]=128|63&r);else for(o=this.start;i<a&&o<64;++i)(r=e.charCodeAt(i))<128?c[o>>2]|=r<<SHIFT[3&o++]:r<2048?(c[o>>2]|=(192|r>>6)<<SHIFT[3&o++],c[o>>2]|=(128|63&r)<<SHIFT[3&o++]):r<55296||r>=57344?(c[o>>2]|=(224|r>>12)<<SHIFT[3&o++],c[o>>2]|=(128|r>>6&63)<<SHIFT[3&o++],c[o>>2]|=(128|63&r)<<SHIFT[3&o++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++i)),c[o>>2]|=(240|r>>18)<<SHIFT[3&o++],c[o>>2]|=(128|r>>12&63)<<SHIFT[3&o++],c[o>>2]|=(128|r>>6&63)<<SHIFT[3&o++],c[o>>2]|=(128|63&r)<<SHIFT[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=EXTRA[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,e[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var e,t,n,r,o,i,a=this.blocks;this.first?t=((t=((e=((e=a[0]-680876937)<<7|e>>>25)-271733879<<0)^(n=((n=(-271733879^(r=((r=(-1732584194^2004318071&e)+a[1]-117830708)<<12|r>>>20)+e<<0)&(-271733879^e))+a[2]-1126478375)<<17|n>>>15)+r<<0)&(r^e))+a[3]-1316259209)<<22|t>>>10)+n<<0:(e=this.h0,t=this.h1,n=this.h2,t=((t+=((e=((e+=((r=this.h3)^t&(n^r))+a[0]-680876936)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+a[1]-389564586)<<12|r>>>20)+e<<0)&(e^t))+a[2]+606105819)<<17|n>>>15)+r<<0)&(r^e))+a[3]-1044525330)<<22|t>>>10)+n<<0),t=((t+=((e=((e+=(r^t&(n^r))+a[4]-176418897)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+a[5]+1200080426)<<12|r>>>20)+e<<0)&(e^t))+a[6]-1473231341)<<17|n>>>15)+r<<0)&(r^e))+a[7]-45705983)<<22|t>>>10)+n<<0,t=((t+=((e=((e+=(r^t&(n^r))+a[8]+1770035416)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+a[9]-1958414417)<<12|r>>>20)+e<<0)&(e^t))+a[10]-42063)<<17|n>>>15)+r<<0)&(r^e))+a[11]-1990404162)<<22|t>>>10)+n<<0,t=((t+=((e=((e+=(r^t&(n^r))+a[12]+1804603682)<<7|e>>>25)+t<<0)^(n=((n+=(t^(r=((r+=(n^e&(t^n))+a[13]-40341101)<<12|r>>>20)+e<<0)&(e^t))+a[14]-1502002290)<<17|n>>>15)+r<<0)&(r^e))+a[15]+1236535329)<<22|t>>>10)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+a[1]-165796510)<<5|e>>>27)+t<<0)^t))+a[6]-1069501632)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+a[11]+643717713)<<14|n>>>18)+r<<0)^r))+a[0]-373897302)<<20|t>>>12)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+a[5]-701558691)<<5|e>>>27)+t<<0)^t))+a[10]+38016083)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+a[15]-660478335)<<14|n>>>18)+r<<0)^r))+a[4]-405537848)<<20|t>>>12)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+a[9]+568446438)<<5|e>>>27)+t<<0)^t))+a[14]-1019803690)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+a[3]-187363961)<<14|n>>>18)+r<<0)^r))+a[8]+1163531501)<<20|t>>>12)+n<<0,t=((t+=((r=((r+=(t^n&((e=((e+=(n^r&(t^n))+a[13]-1444681467)<<5|e>>>27)+t<<0)^t))+a[2]-51403784)<<9|r>>>23)+e<<0)^e&((n=((n+=(e^t&(r^e))+a[7]+1735328473)<<14|n>>>18)+r<<0)^r))+a[12]-1926607734)<<20|t>>>12)+n<<0,t=((t+=((i=(r=((r+=((o=t^n)^(e=((e+=(o^r)+a[5]-378558)<<4|e>>>28)+t<<0))+a[8]-2022574463)<<11|r>>>21)+e<<0)^e)^(n=((n+=(i^t)+a[11]+1839030562)<<16|n>>>16)+r<<0))+a[14]-35309556)<<23|t>>>9)+n<<0,t=((t+=((i=(r=((r+=((o=t^n)^(e=((e+=(o^r)+a[1]-1530992060)<<4|e>>>28)+t<<0))+a[4]+1272893353)<<11|r>>>21)+e<<0)^e)^(n=((n+=(i^t)+a[7]-155497632)<<16|n>>>16)+r<<0))+a[10]-1094730640)<<23|t>>>9)+n<<0,t=((t+=((i=(r=((r+=((o=t^n)^(e=((e+=(o^r)+a[13]+681279174)<<4|e>>>28)+t<<0))+a[0]-358537222)<<11|r>>>21)+e<<0)^e)^(n=((n+=(i^t)+a[3]-722521979)<<16|n>>>16)+r<<0))+a[6]+76029189)<<23|t>>>9)+n<<0,t=((t+=((i=(r=((r+=((o=t^n)^(e=((e+=(o^r)+a[9]-640364487)<<4|e>>>28)+t<<0))+a[12]-421815835)<<11|r>>>21)+e<<0)^e)^(n=((n+=(i^t)+a[15]+530742520)<<16|n>>>16)+r<<0))+a[2]-995338651)<<23|t>>>9)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+a[0]-198630844)<<6|e>>>26)+t<<0)|~n))+a[7]+1126891415)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+a[14]-1416354905)<<15|n>>>17)+r<<0)|~e))+a[5]-57434055)<<21|t>>>11)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+a[12]+1700485571)<<6|e>>>26)+t<<0)|~n))+a[3]-1894986606)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+a[10]-1051523)<<15|n>>>17)+r<<0)|~e))+a[1]-2054922799)<<21|t>>>11)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+a[8]+1873313359)<<6|e>>>26)+t<<0)|~n))+a[15]-30611744)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+a[6]-1560198380)<<15|n>>>17)+r<<0)|~e))+a[13]+1309151649)<<21|t>>>11)+n<<0,t=((t+=((r=((r+=(t^((e=((e+=(n^(t|~r))+a[4]-145523070)<<6|e>>>26)+t<<0)|~n))+a[11]-1120210379)<<10|r>>>22)+e<<0)^((n=((n+=(e^(r|~t))+a[2]+718787259)<<15|n>>>17)+r<<0)|~e))+a[9]-343485551)<<21|t>>>11)+n<<0,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=n-1732584194<<0,this.h3=r+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+n<<0,this.h3=this.h3+r<<0)},Md5.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3;return HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3;return[255&e,e>>8&255,e>>16&255,e>>24&255,255&t,t>>8&255,t>>16&255,t>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var e,t,n,r="",o=this.array(),i=0;i<15;)e=o[i++],t=o[i++],n=o[i++],r+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[63&(e<<4|t>>>4)]+BASE64_ENCODE_CHAR[63&(t<<2|n>>>6)]+BASE64_ENCODE_CHAR[63&n];return e=o[i],r+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[e<<4&63]+"=="};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()}).call(this,__webpack_require__("8oxB"),__webpack_require__("yLpj"))},h2yo:function(e,t,n){"use strict";n.r(t);var r=n("1OyB"),o=n("vuIU"),i=n("JX7q"),a=n("Ji7U"),c=n("md7G"),s=n("foSv"),l=n("rePB"),u=n("q1tI"),d=n.n(u),p=n("a6RD"),f=n.n(p),h=n("NC75"),g=n("QJIx"),m=n("aQzX"),b=n("zhJZ"),v=d.a.createElement;function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var o=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var w=f()((function(){return Promise.all([n.e(14),n.e(25),n.e(273)]).then(n.bind(null,"Ey1B"))}),{loading:function(){return v("div",null,"Loading...")},loadableGenerated:{webpack:function(){return["Ey1B"]},modules:["./markdownEditorInEdit"]}}),C=function(e){Object(a.a)(n,e);var t=j(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),Object(l.a)(Object(i.a)(e),"getInitialShowPreviewState",(function(){return null==b.a("showMarkdownEditorPreview")||JSON.parse(b.a("showMarkdownEditorPreview"))})),Object(l.a)(Object(i.a)(e),"propsToState",(function(e,t){return{text:e.content.text,mdHtml:e.content.mdHtml,onlyCodeChanged:t,cursorPosition:e.content.cursorPosition}})),Object(l.a)(Object(i.a)(e),"state",O(O({isSpellCheckEnabled:!0,content:O({},e.props.content)},e.propsToState(e.props,!1)),{},{showPreview:e.getInitialShowPreviewState(),textAreaCursor:0})),Object(l.a)(Object(i.a)(e),"onMarkdownUpdated",(function(t){if(t){var n=t.mdText,r=t.mdHtml,o=t.cursorPosition,i=t.reFocus,a=void 0===i?null:i,c=t.splitInTwo;void 0!==n&&(void 0!==c&&c||"edit"===e.props.mode)&&e.setState((function(e){return{content:O(O({},e.content),{},{text:n,mdHtml:r,cursorPosition:o})}}),(function(){var t,n,r;a&&(null===(t=e.inEdit)||void 0===t||null===(n=t.textAreaElemRef)||void 0===n||null===(r=n.current)||void 0===r||r.focus())}))}})),Object(l.a)(Object(i.a)(e),"onBlurMarkdownUpdated",(function(t){if(t){var n=t.mdText,r=t.mdHtml,o=t.cursorPosition,i=void 0===o?e.state.content.cursorPosition:o,a=t.reFocus,c=void 0===a?null:a,s=t.splitInTwo;if(void 0!==n&&(void 0!==s&&s||"edit"===e.props.mode)){var l=typeof i!==typeof e.props.content.cursorPosition||i===e.props.content.cursorPosition;n===e.props.content.text&&l||e.props.updateContentState({text:n,mdHtml:r,cursorPosition:i},(function(){var t,n,r;c&&(null===(t=e.inEdit)||void 0===t||null===(n=t.textAreaElemRef)||void 0===n||null===(r=n.current)||void 0===r||r.focus())}))}}})),Object(l.a)(Object(i.a)(e),"inEdit",void 0),Object(l.a)(Object(i.a)(e),"getMDHtml",(function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=t?e.state.content:e.props.content,r=n.mdHtml,o='<p style="font-size:16px;color:#ddd"><i>',i=!!e.props.config&&e.props.config.inEditor;return i&&(null!==r&&""!==r||(r="".concat(o).concat(e.props.placeholder,"</i></p>"))),r})),Object(l.a)(Object(i.a)(e),"saveWidgetsData",(function(t){e.props.saveWidgetUserData(t,{compId:e.state.content.comp_id,reset:!1})})),Object(l.a)(Object(i.a)(e),"toggleSpellCheck",(function(){e.setState({isSpellCheckEnabled:!e.state.isSpellCheckEnabled})})),Object(l.a)(Object(i.a)(e),"getViewerBackgroundColor",(function(e){var t=null,n=e.match(/<!--backgroundColor:'([\s\S]*?)'-->/);return n&&(t=n[1]),t})),e}return Object(o.a)(n,[{key:"saveComponent",value:function(){var e=this.state.content,t=e.text,n=e.mdHtml,r=e.cursorPosition;this.props.updateContentState({text:t,mdHtml:n,cursorPosition:r})}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.config,o=n.mode,i=n.fullScreen,a=n.toggleFullScreen,c=n.fullscreenIconToggle,s=n.comps,l=n.index,u=n.hash,d=n.focusOnMount,p=this.state,f=p.content,g=p.onlyCodeChanged,b=p.textAreaCursor,y=p.showPreview,O=f.text,j=f.mdHtml,C=f.cursorPosition,x=!!r&&r.inEditor,_=!!r&&r.inQuiz,S=r?r.title:void 0,E=i?m.a:m.h;if("edit"!==o){var I=this.getViewerBackgroundColor(j);return v(h.a,{authorId:this.props.authorId,collectionId:this.props.collectionId,saveHighlights:this.saveWidgetsData,default_themes:this.props.default_themes,contentSnapshot:this.props.contentSnapshot,docker:this.props.docker,mdHtml:this.getMDHtml(!1),logWidgetInteraction:this.props.logWidgetInteraction,isShot:this.props.isShot,userThemes:this.props.userThemes,backgroundColor:I,positionedLeft:this.props.positionedLeft,isUsedInColumn:this.props.highlights,conceptIdBacktrace:this.props.conceptIdBacktrace,isDraft:this.props.isDraft,widthOfComp:this.props.widthOfComp,widthOfOtherComp:this.props.widthOfOtherComp})}var k=(s&&s.length-1)===l;return v(E,null,v(w,{fullScreen:i,fullscreenIconToggle:c,text:O,mdHtml:j,cursorPosition:C,isSpellCheckEnabled:this.state.isSpellCheckEnabled,toggleSpellCheck:this.toggleSpellCheck,onUpdate:this.onMarkdownUpdated,onExpand:a,getMDHtml:this.getMDHtml,default_themes:this.props.default_themes,placeholder:this.props.placeholder,dispatch:this.props.dispatch,isDraft:this.props.isDraft,pageId:this.props.pageId,authorId:this.props.authorId,collectionId:this.props.collectionId,shotId:this.props.shotId,editorPageId:this.props.editorPageId,setFocus:x&&d,userId:this.props.userId,docker:this.props.docker,index:l,hash:u,isInConceptEditor:this.props.isInConceptEditor,conceptIdBacktrace:this.props.conceptIdBacktrace,isLastWidgetOnPage:k,inAssessment:null===(e=this.props.config)||void 0===e?void 0:e.inAssessment,inQuiz:_,title:S,onBlur:this.onBlurMarkdownUpdated,onlyCodeChanged:g,textAreaCursor:b,showPreview:y,setState:function(){return t.setState.apply(t,arguments)}}))}}],[{key:"getComponentDefault",value:function(){return g.a}}]),n}(d.a.Component);Object(l.a)(C,"defaultProps",{placeholder:"Write here ...",docker:{},logWidgetInteraction:function(){return null},userThemes:null,highlights:!1,positionedLeft:null,isInConceptEditor:!1,conceptIdBacktrace:[],widthOfComp:50,widthOfOtherComp:50,saveWidgetUserData:function(){return null},focusOnMount:!0}),t.default=C},ihVS:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n.n(i);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=Object(r.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,a=void 0===i?24:i,l=s(e,["color","size"]);return o.a.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),o.a.createElement("path",{d:"M12 20h9"}),o.a.createElement("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"}))}));l.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},l.displayName="Edit3",t.a=l},jt9Z:function(e,t,n){"use strict";var r=n("rePB"),o=n("Ff2n"),i=n("fNkK"),a=n("As5v"),c=sessionStorage.getItem("demo");c||(sessionStorage.setItem("demo",JSON.stringify({summary:{commentsCount:0,description:"",title:"",tags:"",shareCount:0,likesCount:0,viewCount:0,author:"fahim",date:"Fri Jul 31 2015"},components:[{id:1438383993168,mode:"view",content:{root:{content:"2",left_child:{content:"1",left_child:null,fillcolor:"#caff70",color:"#caff70",id:"node_1438383937235",right_child:null,shape:"Mrecord"},fillcolor:"#caff70",color:"#caff70",id:"node_1438383937234",right_child:{content:"3",left_child:null,fillcolor:"#caff70",color:"#caff70",id:"node_1438383937236",right_child:null,shape:"Mrecord"},shape:"Mrecord"},caption:"",version:"1.0"},type:"BinaryTree"}]})),c=sessionStorage.getItem("demo"));var s=[{isMyRequest:function(e){return-1!==e.url.indexOf("fakeUploadUrl")&&"POST"===e.type},response:function(e){return JSON.stringify({image_id:1,file_name:"coverImage"})}},{isMyRequest:function(e){return-1!==e.url.indexOf("image/upload/url")&&"GET"===e.type},response:function(e){return JSON.stringify({image_id:1,page_id:5207287069147136,upload_url:"fakeUploadUrl"})}},{isMyRequest:function(e){return"/api/user/info"===e.url&&"GET"===e.type},response:function(){return JSON.stringify({user_id:null,email:"test@test.com",full_name:"Educative Author",user_name:null,isDemo:!0})}},{isMyRequest:function(e){return 0===e.url.indexOf("/api/author/page/")&&"PUT"===e.type},action:function(e){var t=e.data,n=JSON.parse(Object(a.inflate)(t,{to:"string",level:9})).page_content;sessionStorage.setItem("demo",n)},response:function(){return""}},{isMyRequest:function(e){return 0===e.url.indexOf("/api/author/page/")&&"GET"===e.type},response:function(){return JSON.parse(sessionStorage.getItem("demo"))}},{isMyRequest:function(e){return 0===e.url.indexOf("/api/author/profile")&&"GET"===e.type},response:function(){return JSON.stringify({facebook:null,short_bio:null,cover_image_id:null,full_name:"Educative Author",profile_image_id:null,linkedin:null,twitter:null,github:null,full_bio:null,website:null})}}],l=function(e){return new Promise((function(t,n){var r=s.find((function(t){return t.isMyRequest(e)}));r||(console.log(e),new Error("Expected some reaction from fake server"),n()),r.action&&r.action(e),t(r.response(e))}))},u=n("4E7A"),d=n("BNIU"),p=n("N+2e"),f=n("Vgjn"),h=n("SuWi");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.a=function(e){return function(t){return function(n){if(!function(e){if(!e)return!1;var t=e.AJAX_CALL;if("undefined"===typeof t)return!1;var n=t.url,r=t.type;return!(!n||!r)}(n))return t(n);var a=n.AJAX_CALL,c=a.url,s=a.type,g=a.getHeaders,b=a.data,v=a.processData,y=a.contentType,O=a.overrideAjaxMode,j=a.isDemo,w=Object(o.a)(a,["url","type","getHeaders","data","processData","contentType","overrideAjaxMode","isDemo"]),C=e.getState().ajaxMode.enabled,x=j||!C&&!O?l:i.a;return t(Object(r.a)({},h.a,m(m({},w),{},{promise:function(){return x({url:c,type:s,data:b,processData:v,contentType:y},g).then((function(t){return g&&t.xhr&&"p"===c[12]?e.dispatch(u.a.updateETag(t.xhr.headers.get(f.a))):g&&t.xhr&&c.includes("page/editor")?e.dispatch(p.b.updateETag(t.xhr.headers.get(f.a))):g&&t.xhr&&e.dispatch(d.a.updateETag(t.xhr.headers.get(f.a))),t}))}})))}}}},pQ8y:function(e,t,n){"use strict";var r=n("wx14"),o=n("zLVn"),i=n("dI71");n("17x9");function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var c=n("q1tI"),s=n.n(c),l=n("dRu9"),u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=a(n.className,r):n.setAttribute("class",a(n.className&&n.className.baseVal||"",r)));var n,r}))},d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1];t.removeClasses(o,"exit"),t.addClass(o,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.addClass(o,i,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.removeClasses(o,i),t.addClass(o,i,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,o=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}Object(i.a)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(r+=" "+o),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,o=n.active,i=n.done;this.appliedClasses[t]={},r&&u(e,r),o&&u(e,o),i&&u(e,i)},n.render=function(){var e=this.props,t=(e.classNames,Object(o.a)(e,["classNames"]));return s.a.createElement(l.a,Object(r.a)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(s.a.Component);d.defaultProps={classNames:""},d.propTypes={};t.a=d},t99M:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n.n(i);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=Object(r.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,i=e.size,a=void 0===i?24:i,l=s(e,["color","size"]);return o.a.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),o.a.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),o.a.createElement("polyline",{points:"14 2 14 8 20 8"}),o.a.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),o.a.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),o.a.createElement("polyline",{points:"10 9 9 9 8 9"}))}));l.propTypes={color:a.a.string,size:a.a.oneOfType([a.a.string,a.a.number])},l.displayName="FileText",t.a=l},ukoL:function(e,t,n){"use strict";n.r(t),n.d(t,"vsDark",(function(){return r})),n.d(t,"vsLight",(function(){return o})),n.d(t,"educative",(function(){return i}));var r={name:"vsDark",config:{base:"vs-dark",inherit:!0,rules:[]},background:"#1e1e1e",colorizeTheme:"vs-dark"},o={name:"vsLight",config:{base:"vs",inherit:!0,rules:[]},background:"#fff",colorizeTheme:"vs"},i={name:"educative",config:{base:"vs-dark",inherit:!0,rules:[{token:"comment",foreground:"ffa500",fontStyle:"italic bold"},{token:"comment.js",foreground:"008800",fontStyle:"bold"},{token:"comment.css",foreground:"0000ff"},{token:"custom-info",foreground:"808080"},{token:"custom-error",foreground:"ff0000",fontStyle:"bold"},{token:"custom-notice",foreground:"FFA500"},{token:"custom-date",foreground:"008800"}]}}},vIBk:function(e,t,n){"use strict";var r=n("rePB"),o=n("mSIx"),i=n("9dyO"),a=n("fDKo"),c=n("dU21"),s=n("H3mV"),l=n("BykT"),u=n("BNIU"),d=n("RsOY"),p=n.n(d),f=n("N+2e"),h=n("+ylz");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=[],v=[],y={},O=!1,j=[];t.a=function(e){return function(t){return function(n){var d,g,w,C,x,_,S,E,I,k,N;if(n.type===i.a.reset.type||n.type===c.b.clear.type||n.type===f.b.clear.type||n.type===h.b.clear.type)return y={},O=!1,e.dispatch(a.b.reset()),t(n);if(n.type===i.a.set.type)return b=null===n||void 0===n||null===(g=n.payload)||void 0===g||null===(w=g.instance)||void 0===w||null===(C=w.details)||void 0===C?void 0:C.api_keys,v=null===n||void 0===n||null===(x=n.payload)||void 0===x||null===(_=x.instance)||void 0===_||null===(S=_.details)||void 0===S||null===(E=S.docker)||void 0===E?void 0:E.envs,t(n);n.type===c.b.fulfilled.type&&(y.shotId=n.payload.shotId,v=null===n||void 0===n||null===(I=n.payload)||void 0===I||null===(k=I.docker)||void 0===k?void 0:k.envs);[f.b.fulfilled.type,h.b.fulfilled.type].includes(n.type)&&(y.editorPageId=n.payload.marketing_page_id,b=JSON.parse((null===(N=n.payload)||void 0===N?void 0:N.api_keys)||"[]"));if((!b||!b.length)&&(!v||!v.length))return t(n);if(n.type===a.b.fulfilled.type&&(O=!0),![s.b,l.a,u.a,c.b,f.b,h.b].map((function(e){return e.fulfilled.type})).includes(n.type))return t(n);if([u.a,s.b,c.b,f.b,h.b].map((function(e){return e.fulfilled.type})).includes(n.type)){if(!n.payload.components&&!n.payload.content&&!n.payload.marketing_page_content)return t(n);var P=n.payload.components||n.payload.content||n.payload.marketing_page_content;j=P.map((function(e){var t=e;if(["Code","WebpackBin","RunJS","TerminalWidget","TabbedCode"].includes(t.type))if("TabbedCode"===t.type){var n,o,i=(null===(n=t)||void 0===n||null===(o=n.content)||void 0===o?void 0:o.codeContents)||{};i.forEach((function(e,t){var n=(null===e||void 0===e?void 0:e.selectedApiKeys)||{},o=b.reduce((function(e,t){return t.id in n?m(m({},e),{},Object(r.a)({},t.id,n[t.id])):e}),{});i=p()(i,Object(r.a)({},t,{selectedApiKeys:{$set:o}}))})),t=p()(t,{content:{codeContents:{$set:i}}})}else{var a,c,s=(null===(a=t)||void 0===a||null===(c=a.content)||void 0===c?void 0:c.selectedApiKeys)||{},l=b.reduce((function(e,t){return t.id in s?m(m({},e),{},Object(r.a)({},t.id,s[t.id])):e}),{});t=p()(t,{content:{selectedApiKeys:{$set:l}}})}return t}))}return n.type!==s.b.fulfilled.type&&n.type!==u.a.fulfilled.type||(y.compIds=n.payload.components.map((function(e){return e.content.comp_id})).filter(Boolean)),n.type===c.b.fulfilled.type&&(y.compIds=n.payload.content.map((function(e){return e.content.comp_id})).filter(Boolean)),[f.b.fulfilled.type,h.b.fulfilled.type].includes(n.type)&&(y.compIds=n.payload.marketing_page_content.map((function(e){return e.content.comp_id})).filter(Boolean)),n.type===l.a.fulfilled.type&&(y.authorId=n.payload.author_id,y.collectionId=n.payload.collection_id),(null===(d=y.compIds)||void 0===d?void 0:d.length)&&(y.authorId&&y.collectionId||y.shotId||y.editorPageId)&&!O&&e.dispatch(Object(o.a)({params:y,apiKeys:b,envKeys:v})),n.payload.components?t(m(m({},n),{},{payload:m(m({},n.payload),{},{components:j})})):t(n)}}}},z430:function(e,t,n){"use strict";var r=n("wx14"),o=n("zLVn"),i=n("q1tI"),a=i.useLayoutEffect,c=function(e){var t=Object(i.useRef)(e);return a((function(){t.current=e})),t},s=function(e,t){"function"!==typeof e?e.current=t:e(t)},l=function(e,t){var n=Object(i.useRef)();return Object(i.useCallback)((function(r){e.current=r,n.current&&s(n.current,null),n.current=t,t&&s(t,r)}),[t])},u={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},d=function(e){Object.keys(u).forEach((function(t){e.style.setProperty(t,u[t],"important")}))},p=null;var f=function(){},h=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],g=!!document.documentElement.currentStyle,m=function(e,t){var n=e.cacheMeasurements,a=e.maxRows,s=e.minRows,u=e.onChange,m=void 0===u?f:u,b=e.onHeightChange,v=void 0===b?f:b,y=Object(o.a)(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]);var O=void 0!==y.value,j=Object(i.useRef)(null),w=l(j,t),C=Object(i.useRef)(0),x=Object(i.useRef)(),_=function(){var e=j.current,t=n&&x.current?x.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,h.reduce((function(e,t){return e[t]=n[t],e}),{})),o=r.boxSizing;return""===o?null:(g&&"border-box"===o&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})}(e);if(t){x.current=t;var r=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),p||((p=document.createElement("textarea")).setAttribute("tab-index","-1"),p.setAttribute("aria-hidden","true"),d(p)),null===p.parentNode&&document.body.appendChild(p);var o=e.paddingSize,i=e.borderSize,a=e.sizingStyle,c=a.boxSizing;Object.keys(a).forEach((function(e){var t=e;p.style[t]=a[t]})),d(p),p.value=t;var s=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize}(p,e);p.value="x";var l=p.scrollHeight-o,u=l*n;"border-box"===c&&(u=u+o+i),s=Math.max(u,s);var f=l*r;return"border-box"===c&&(f=f+o+i),[s=Math.min(f,s),l]}(t,e.value||e.placeholder||"x",s,a),o=r[0],i=r[1];C.current!==o&&(C.current=o,e.style.setProperty("height",o+"px","important"),v(o,{rowHeight:i}))}};return Object(i.useLayoutEffect)(_),function(e){var t=c(e);Object(i.useEffect)((function(){var e=function(e){t.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[])}(_),Object(i.createElement)("textarea",Object(r.a)({},y,{onChange:function(e){O||_(),m(e)},ref:w}))},b=Object(i.forwardRef)(m);t.a=b},zEHM:function(e,t,n){"use strict";(function(e){var r=n("KQm4"),o=n("i7Pf"),i=n("PvLm"),a=n("SuWi"),c=n("396a"),s=n("MCbV"),l=n("VRBI"),u=n("jt9Z"),d=n("ZwUw"),p=n("StAi"),f=n("vIBk"),h=[].concat(Object(r.a)(Object(o.c)({serializableCheck:{ignoredActions:["widgets/updateContentState"]}})),[c.b,u.a,a.b,l.a,s.a,d.a,p.a,f.a]),g=Object(o.a)({reducer:i.a,middleware:h,devTools:!1});e.store=g,t.a=g}).call(this,n("yLpj"))}}]);
//# sourceMappingURL=233.72d709677effe12e3700.js.map